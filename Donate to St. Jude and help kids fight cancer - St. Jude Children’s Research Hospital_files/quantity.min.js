var stjude=stjude||{};
stjude.dprforms=stjude.dprforms||{};
stjude.dprforms.quantity=(function(i){var j;
var m;
var a;
var b;
var e;
function g(q){var p=1;
var n=99;
var o=1;
if(parseInt(q.min)){p=parseInt(q.min)
}if(i("#tQuantity").length){i("#tQuantity").rules("add",{required:true,minlength:o,digits:true,min:p,max:n,messages:{required:q.errorLabel,forbidden:q.errorLabel}})
}}function l(o,n){j=n;
if(a==="mail-card"){if(typeof m!=="undefined"){c(b);
i("#tQuantity").removeClass("error");
i("#tQuantity-error").hide()
}}}function k(o,n){m=n
}function h(o,n){n=n
}function c(q){i("#minDonationPerCard").text(m);
var p=1;
var n=Math.floor(j/m);
if(parseInt(q.min)){p=parseInt(q.min)
}var r=stjude.dprforms.pageLanguage;
var o;
if(r==="es"){o="Por favor tenga en cuenta que cada tarjeta requiere una donación mínima de $"+m+" donación. Por favor reduzca la cantidad de tarjetas o incremente su donación."
}else{o="Please note: each card requires a minimum $"+m+" donation. Select fewer cards, or increase your donation amount."
}if(i("#tQuantity").length){i("#tQuantity").rules("add",{required:true,digits:true,min:p,max:n,messages:{required:q.errorLabel,forbidden:q.errorLabel,max:o}})
}}function d(o,n){a=n;
i("#tQuantity").val("");
f();
if(a=="mail-card"){i("#sectionLabel").hide();
i("#bukStandardMessage").show();
c(b)
}else{i("#sectionLabel").show();
i("#bukStandardMessage").hide();
g(b)
}}function f(){var n=i("#donationForm");
n.validate().resetForm();
n.find(".error").removeClass("error")
}return{init:function(n){i.subscribe("/dprforms/deliveryType",d);
i.subscribe("/dprforms/amount",l);
i.subscribe("/dprforms/mindonationpercard",k);
i.subscribe("/dprforms/isBulkMail",h);
b=n
}}
})(jQuery);