var stjude=stjude||{};
stjude.dprforms=stjude.dprforms||{};
stjude.dprforms.nacha=(function(e){function f(j,l,k,m){e.ajax({crossDomain:true,cache:true,url:j,method:"GET",timeout:10000}).done(function(n){d(h(n),l,k)
}).fail(function(){var n=e(l).text();
e(l).html(g(n,k))
}).always(function(){if(typeof m!=="undefined"){m()
}})
}function h(j){var k=j["tns:legalAgreement"]["tns:language"];
return k.filter(function(l){return l["@languageCode"]===stjude.dprforms.pageLanguage
}).shift()
}function d(m,l,k){var j=m["tns:initialDisplay"]["tns:line"]["$"];
var n=g(j,k);
e(l).html(n)
}function c(j){if(stjude.dprforms.pageLanguage==="es"){return 8>j.getDate()||j.getDate()>21?"1er":"15o"
}else{return 8>j.getDate()||j.getDate()>21?"1st":"15th"
}}function a(k){var j=k.getDate();
if(j<10){j="0"+j
}var l=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];
return j+" de "+l[k.getMonth()]+" de "+k.getFullYear()
}function i(l){var k=l.getDate();
if(k<10){k="0"+k
}var j=["January","February","March","April","May","June","July","August","September","October","November","December"];
return j[l.getMonth()]+" "+k+", "+l.getFullYear()
}function g(j,l){if(typeof l=="object"&&"firstName" in l&&"lastName" in l&&"checkBankAccountType" in l&&"frequency" in l&&"total" in l){var m;
var k;
if(typeof l.orderTimestamp!=="undefined"){k=new Date(l.orderTimestamp)
}else{k=new Date()
}var n;
if(stjude.dprforms.pageLanguage==="es"){n=a(k)
}else{n=i(k)
}m=j.replace("__firstName__",l.firstName).replace("__lastName__",l.lastName).replace("__transactionDate__",n).replace("__accountType__",l.checkBankAccountType).replace("__donationType__",b(l.frequency)).replace("__donationAmount__",l.total).replace("__withdrawalDate__",c(new Date()));
return m
}else{console.error("Invalid ACH properties. Unable to replace values.");
return j
}}function b(k){var j;
if(stjude.dprforms.pageLanguage==="es"){j=k==="one time"?"un Ãºnico":"recurrente"
}else{j=k==="one time"?"single":"recurring"
}return j
}return{getAchLanguage:f}
})(jQuery);