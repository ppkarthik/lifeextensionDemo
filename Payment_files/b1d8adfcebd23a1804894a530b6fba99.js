/* Created: 2020/01/09 14:50:46 GMT+00:00 version: 3.0 */
!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=49)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(37);e.curry=function t(e,n=[]){return(...o)=>{const r=e.length,i=t=>t===a.__,s=n.map(t=>i(t)&&o.length>0?o.shift():t).concat(o);return s.filter(t=>!i(t)).length<r?t(e,s):e(...s)}}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(10)),r="info::",i="error::",s="warning::",c="verbose::",l="success::";function d(t,e,...n){(function(){const t=o.get("abTastyDebug"),e=!window.abtastyStopLog;return!(!t&&!window.abTastyDebug)&&e})()&&console.log(`%c [AB Tasty Debug mode] %c ${t}`,"background: #222; color: #bada55; padding: 3px; border-radius: 5px 0px 0px 5px;",`${e} padding: 3px; border-radius: 0px 5px 5px 0px;`,...n)}e.success=function(...t){d(l,"background: green; color: white;",...t)},e.warning=function(...t){d(s,"background: orange; color: white;",...t)},e.verbose=function(...t){(o.get("aBTastyVerbose")||window.aBTastyVerbose)&&d(c,"background: pink; color: white;",...t)},e.error=function(...t){d(i,"background: red; color: white;",...t)},e.info=function(...t){d(r,"background: blue; color: white;",...t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(19),n(9),n(16);e.config=()=>({install(){}}),e.captureException=t=>null,e.context=t=>(e.captureException(new Error("testing with tag_version")),t())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(17),o={accountSettings:{id:47533,identifier:"b1d8adfcebd23a1804894a530b6fba99",accountName:"Life Extension",region:"north-america",frameworkVersion:"3.0",pack:"premium",quota:0,accountIframeException:!1,runAsThread:0,sessionRecordingRights:!0,addJquery:!1,jqueryVarName:null,ajaxAutoReload:!0,excludeIE:!0,hashMrasnAllowed:!1,cedexisRadar:0,globalCode:"/////////////////////////////\n// TRACKING 493651 - START //\n/////////////////////////////\n\n/// SEGMENTS /// \nfunction redirectSegmentPaid493651(){\n    // CPC\n    if(document.location.href.indexOf('utm_medium=cpc') > -1){\n        sessionStorage.setItem('sourceChecked', 'CPC');\n        window.abtasty.send(\"segment\", {\n            s: {\n                trafficType: \"CPC\",\n            }\n        });\n        window.abtasty.send(\"event\", {\n            ec: \"User Engagement\",\n            ea: \"trafficCPC\",\n        });\n    }\n    // Display \n    if(document.location.href.indexOf('utm_medium=display') > -1){\n        sessionStorage.setItem('sourceChecked', 'Display');\n        window.abtasty.send(\"segment\", {\n            s: {\n                trafficType: \"Display\",\n            }\n        });\n        window.abtasty.send(\"event\", {\n            ec: \"User Engagement\",\n            ea: \"trafficDisplay\",\n        });\n    }\n    // Email\n    if(document.location.href.indexOf('utm_medium=email') > -1){\n        sessionStorage.setItem('sourceChecked', 'Email');\n        window.abtasty.send(\"segment\", {\n            s: {\n                trafficType: \"Email\",\n            }\n        });\n        window.abtasty.send(\"event\", {\n            ec: \"User Engagement\",\n            ea: \"trafficEmail\",\n        });\n    }\n    // Affiliate\n    if(document.location.href.indexOf('utm_medium=affiliate') > -1){\n        sessionStorage.setItem('sourceChecked', 'Affiliate');\n        window.abtasty.send(\"segment\", {\n            s: {\n                trafficType: \"Affiliate\",\n            }\n        });\n        window.abtasty.send(\"event\", {\n            ec: \"User Engagement\",\n            ea: \"trafficAffiliate\",\n        });\n    }\n    // Social\n    if(document.location.href.indexOf('utm_medium=social') > -1){\n        sessionStorage.setItem('sourceChecked', 'Social');\n        window.abtasty.send(\"segment\", {\n            s: {\n                trafficType: \"Social\",\n            }\n        });\n        window.abtasty.send(\"event\", {\n            ec: \"User Engagement\",\n            ea: \"trafficSocial\",\n        });\n    }\n}\n\n// Organic + Direct + Referral \nfunction redirectSegmentFree493651(){\n    const LExc = [\n        'daum:q',\n        'eniro:search_word',\n        'naver:query',\n        'pchome:q',\n        'images.google:q',\n        'google:q',\n        'yahoo:p',\n        'yahoo:q',\n        'msn:q',\n        'bing:q',\n        'aol:query',\n        'aol:encquery',\n        'aol:q',\n        'lycos:query',\n        'ask:q',\n        'altavista:q',\n        'netscape:query',\n        'cnn:query',\n        'about:terms',\n        'mamma:q',\n        'alltheweb:q',\n        'voila:rdata',\n        'virgilio:qs',\n        'live:q',\n        'baidu:wd',\n        'alice:qs',\n        'yandex:text',\n        'najdi:q',\n        'mama:query',\n        'seznam:q',\n        'search:q',\n        'wp:szukaj',\n        'onet:qt',\n        'szukacz:q',\n        'yam:k',\n        'kvasir:q',\n        'sesam:q',\n        'ozu:q',\n        'terra:query',\n        'mynet:q',\n        'ekolay:q',\n        'rambler:query'\n    ];\n\n    function checkSourceType() {\n        const referrer = document.referrer || null;\n        if (!referrer) {\n            // Direct\n            sessionStorage.setItem('sourceChecked', 'Direct');\n            window.abtasty.send(\"segment\", {\n                s: {\n                    trafficType: \"Direct\",\n                }\n            });\n            window.abtasty.send(\"event\", {\n                ec: \"User Engagement\",\n                ea: \"trafficDirect\",\n            });\n        }\n        const hostname = document.referrer.replace(/https?\\:\\/\\//, '').split('/')[0];\n        const isOrganic =\n        LExc.filter(function(item) {\n            const motorDatas = item.split(':');\n            const motorName = motorDatas[0];\n            const motorValue = motorDatas[0];\n            if (hostname.indexOf(motorName) < 0) return false;\n            const query = referrer.match(\n                new RegExp(`${motorValue}=(.*?)(?:&|$)`, 'i')\n            );\n            if ((query && query[0]) || referrer.indexOf('https://www.google.') > -1) {\n                return true;\n            }\n            return false;\n        }).length > 0;\n        if (isOrganic) {\n            // Organic\n            sessionStorage.setItem('sourceChecked', 'Organic');\n            window.abtasty.send(\"segment\", {\n                s: {\n                    trafficType: \"Organic\",\n                }\n            });\n            window.abtasty.send(\"event\", {\n                ec: \"User Engagement\",\n                ea: \"trafficOrganic\",\n            });\n        } else {\n            // Referral\n            sessionStorage.setItem('sourceChecked', 'Referral');\n            window.abtasty.send(\"segment\", {\n                s: {\n                    trafficType: \"Referral\",\n                }\n            });\n            window.abtasty.send(\"event\", {\n                ec: \"User Engagement\",\n                ea: \"trafficReferral\",\n            });\n        }\n    }\n    checkSourceType();\n}\n\n/// CLICK TRACKING ///\nfunction redirectTracking493651(){\n    //BETA \n    // Homepage\n    if($('[data-sc-page-name=\"Home\"]').length){\n        // HP - Add To Cart  \n        $(document).on('mousedown', 'button:contains(Add To Cart), button:contains(Add to Cart), a:contains(Add To Cart), a:contains(Add to Cart)', function () { \n            ABTastyClickTracking('HP - Add To Cart', null, 493651); \n        });\n        // HP - Hero\n        $(document).on('mousedown', '.homeJumbotron .home-jumbotron-content a', function () { \n            ABTastyClickTracking('HP - Hero', null, 493651); \n        });\n        // HP - Featured Content\n        $(document).on('mousedown', 'section .col-sm-6.col-md-3 .ContentPromotionConfigurable', function () { \n            ABTastyClickTracking('HP - Featured Content', null, 493651); \n        });\n        // HP - Popular Product Categories \n        $(document).on('mousedown', '.border-bottom.border-light-gray.mb-3.mb-md-5.pb-3.pb-md-5:eq(1) a', function () { \n            ABTastyClickTracking('HP - Popular Product Categories', null, 493651); \n        });\n        // HP - Related Products Images\n        $(document).on('mousedown', '.productCarousel.relatedProducts a.productImageLink', function () { \n            ABTastyClickTracking('HP - Related Products Images', null, 493651); \n        });\n        // HP - Our Recommendation Image\n        $(document).on('mousedown', '#familyTopSellerProduct .family-top-prod>div>a', function () { \n            ABTastyClickTracking('HP - Our Recommendation Image', null, 493651); \n        });\n    }\n    // Product Pages\n    if(dataLayer[0].G_ANALYTICSGROUP == \"Products\"){\n        // PP - Add To Cart\n        $(document).on('mousedown', 'button:contains(Add To Cart), button:contains(Add to Cart), a:contains(Add To Cart), a:contains(Add to Cart)', function () { \n            ABTastyClickTracking('PP - Add To Cart', null, 493651); \n        });\n        // PP - Add To Cart-Related Product\n        $(document).on('mousedown', 'button.mb-3:contains(Add To Cart)', function () { \n            ABTastyClickTracking('PP - Add To Cart-Related Product', null, 493651); \n        });\n        // PP - Add All To Cart\n        $(document).on('mousedown', '.prod-together button', function () { \n            ABTastyClickTracking('PP - Add All To Cart', null, 493651); \n        });\n        // PP - Order By Units\n        $(document).on('mousedown', 'label[for=\"pricingOption1\"]', function () { \n            ABTastyClickTracking('PP - Order By Units', null, 493651); \n        });\n        // PP - Add To VIP AutoShip\n        $(document).on('mousedown', 'label[for=\"pricingOption2\"]', function () { \n            ABTastyClickTracking('PP - Add To VIP AutoShip', null, 493651); \n        });\n        // PP - Select Multi-Unit Discount\n        $(document).on('mousedown', '#pricingSelect div', function () { \n            ABTastyClickTracking('PP - Select Multi-Unit Discount', null, 493651); \n        });\n    }\n    // Search\n    if(document.location.href.indexOf('https://beta.lifeextension.com/search') > -1){\n        // SP - Add To Cart\n        $(document).on('mousedown', 'button:contains(Add To Cart), button:contains(Add to Cart), a:contains(Add To Cart), a:contains(Add to Cart)', function () { \n            ABTastyClickTracking('SP - Add To Cart', null, 493651); \n        });\n        // SP - Product Image\n        $(document).on('mousedown', '.le-search-item-img a, .productImageLink', function () { \n            ABTastyClickTracking('SP - Product Image', null, 493651); \n        });\n        // SP - Product Title\n        $(document).on('mousedown', '.coveo-title .CoveoResultLink', function () { \n            ABTastyClickTracking('SP - Product Title', null, 493651); \n        });\n        // SP - Options + Units\n        $(document).on('mousedown', '.leDropdown', function () { \n            ABTastyClickTracking('SP - Options + Units', null, 493651); \n        });\n    }\n    // Essentials\n    if(document.location.href.indexOf('https://beta.lifeextension.com/vitamins-supplements/essentials') > -1){\n        // Essentials - Add To Cart  \n        $(document).on('mousedown', 'button:contains(Add To Cart), button:contains(Add to Cart), a:contains(Add To Cart), a:contains(Add to Cart)', function () { \n            ABTastyClickTracking('Essentials - Add To Cart', null, 493651); \n        });\n    }\n    // Best Sellers\n    if(document.location.href.indexOf('https://beta.lifeextension.com/vitamins-supplements/best-sellers') > -1){\n        // Best Sellers - Add To Cart  \n        $(document).on('mousedown', 'button:contains(Add To Cart), button:contains(Add to Cart), a:contains(Add To Cart), a:contains(Add to Cart)', function () { \n            ABTastyClickTracking('Best Sellers - Add To Cart', null, 493651); \n        });\n    }\n    // Best of LE \n    if(document.location.href.indexOf('https://beta.lifeextension.com/lpages/bestofle2019sept') > -1){\n        // Best of LE - Add To Cart  \n        $(document).on('mousedown', 'button:contains(Add To Cart), button:contains(Add to Cart), a:contains(Add To Cart), a:contains(Add to Cart)', function () { \n            ABTastyClickTracking('Best of LE - Add To Cart', null, 493651); \n        });\n    }\n\n    // CONTROL \n    // Homepage\n    if($('#homeMainCarousel').length){\n        // HP - Hero\n        $(document).on('mousedown', '#homeMainCarousel a', function () { \n            ABTastyClickTracking('HP - Hero', null, 493651); \n        });\n        // HP - Featured Content\n        $(document).on('mousedown', '.prod-slide.slick-slide a, .prod-slide.slick-slide button', function () { \n            ABTastyClickTracking('HP - Featured Content', null, 493651); \n        });\n        // HP - New Products + Best Sellers + Supplement Guide\n        $(document).on('mousedown', 'section.home-sub-features a', function () { \n            ABTastyClickTracking('HP - New Products + Best Sellers + Supplement Guide', null, 493651); \n        });\n    }\n    // Product Pages \n    if(dataLayer[0].G_ANALYTICSGROUP == \"Products\"){\n        // PP - Add To Cart\n        $(document).on('mousedown', 'button:contains(Add To Cart), button:contains(Add to Cart), a:contains(Add To Cart), a:contains(Add to Cart)', function () { \n            ABTastyClickTracking('PP - Add To Cart', null, 493651); \n        });\n        // PP - Add To VIP AutoShip\n        $(document).on('mousedown', '#vipCollapse button', function () { \n            ABTastyClickTracking('PP - Add To VIP AutoShip', null, 493651); \n        });\n        // PP - Select Multi-Unit Discount\n        $(document).on('mousedown', '#pricingSelect', function () { \n            ABTastyClickTracking('PP - Select Multi-Unit Discount', null, 493651); \n        });\n    }\n    // Search\n    if(document.location.href.indexOf('https://www.lifeextension.com/search') > -1){\n        // SP - Add To Cart\n        $(document).on('mousedown', 'button:contains(Add To Cart), button:contains(Add to Cart), a:contains(Add To Cart), a:contains(Add to Cart)', function () { \n            ABTastyClickTracking('SP - Add To Cart', null, 493651); \n        });\n        // SP - Product Image\n        $(document).on('mousedown', '.CoveoResult .search-results-list-image>.CoveoResultLink', function () { \n            ABTastyClickTracking('SP - Product Image', null, 493651); \n        });\n        // SP - Product Title\n        $(document).on('mousedown', '.CoveoResult .search-product-info .CoveoResultLink', function () { \n            ABTastyClickTracking('SP - Product Title', null, 493651); \n        });\n        // SP - Options + Units\n        $(document).on('mousedown', '.CoveoResult .dropdown-wrapper', function () { \n            ABTastyClickTracking('SP - Options + Units', null, 493651); \n        });\n    }\n    // Best Sellers\n    if(document.location.href.indexOf('k=homeBestSellers') > -1){\n        // Best Sellers - Add To Cart  \n        $(document).on('mousedown', 'button:contains(Add To Cart), button:contains(Add to Cart), a:contains(Add To Cart), a:contains(Add to Cart)', function () { \n            ABTastyClickTracking('Best Sellers - Add To Cart', null, 493651); \n        });\n    }\n    // Best of LE \n    if(document.location.href.indexOf('https://www.lifeextension.com/lpages/bestofle') > -1){\n        // Best of LE - Add To Cart  \n        $(document).on('mousedown', 'button:contains(Add To Cart), button:contains(Add to Cart), a:contains(Add To Cart), a:contains(Add to Cart)', function () { \n            ABTastyClickTracking('Best of LE - Add To Cart', null, 493651); \n        });\n    }\n}\n\n// Trigger \nif(sessionStorage.sourceChecked == undefined){\n    if(document.location.href.indexOf('utm_medium') > -1){\n        console.log('source: segmentPaid');\n        redirectSegmentPaid493651();\n    } else {\n        console.log('source: segmentFree');\n        redirectSegmentFree493651();\n    } \n} else {\n    console.log('source: sourceChecked');\n}\n\nsetTimeout(function(){ \n\tredirectTracking493651(); \n}, 500);\n\n///////////////////////////\n// TRACKING 493651 - END //\n///////////////////////////",globalCodeOnDocReady:!0,customCookieDomain:null,customCookiePath:"/",isSecureCookie:!1,oneVisitorOneTest:!1,waitForCnil:!1,waitForCnilAction:0,waitForCnilCookie:!1,storageMode:"cookies",datalayerMaxToSend:100,tealiumAccountName:null,tealiumProfileName:null,apiTokenWeborama:null,getAlwaysWeborama:null,kruxNamespace:null},tests:{524688:{id:524688,name:"Supersale Landing Page Test",traffic:50,type:"ab",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,priority:0,scopes:{urlScope:[{id:708111,include:!0,condition:"40",value:"https://www.lifeextension.com/sales/supersale"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},audience:{},analytics:[],widgets:[],actionTrackings:{mousedown:[{name:"Add To Cart",selector:".btn-action"},{name:"Add to Cart 2",selector:"#btnAddToCart"}]},variations:{655041:{id:655041,name:"Variation 1",traffic:50,masterVariationId:0,modifications:[{id:2587222,type:"redirection",selector:"",oldValue:"",value:null}],widgets:[],redirections:[{target:"https://www.lifeextension.com/sales/supersale-b",isRegex:0,pattern:"",transferParameters:1,ATInternetReferrer:0}]}}},524696:{id:524696,name:"Supersale Popin magazine pages-desktop",traffic:56,type:"ab",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,priority:0,scopes:{urlScope:[{id:708119,include:!0,condition:"10",value:"/magazine"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},audience:{name:"Audience of the account47533",description:"My audience",hidden:!0,audience_origin_id:null,id:"58a84e23-4c61-4e0d-8169-b09442831fd2",targeting_groups:[{position:0,id:"d11c93b2-c2e9-447e-bb8b-9fc3e0db3f1a",targetings:[{operator:"auto",targeting_type:17,name:"DEVICE",conditions:[{id:"f99e77a9-82dc-46a6-ba88-30885c6ca64e",value:3,include:!0}]}]}]},analytics:[],widgets:[],actionTrackings:{mousedown:[{name:"Shop Now CTA",selector:"BODY .abtasty-modal__content .abtasty-modal__text .abtasty-modal__button"},{name:"Close icon",selector:"BODY .abtasty-animation-none .abtasty-modal__close svg"}]},variations:{655048:{id:655048,name:"Exit Intent",traffic:12,masterVariationId:0,modifications:[{id:2588946,type:"changeImage",selector:"BODY .abtasty-modal__content .abtasty-modal__image IMG",oldValue:"$('BODY .abtasty-modal__content .abtasty-modal__image IMG').attr('src','https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg');",value:"https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg"},{id:2606257,type:"editStyleCSS",selector:"BODY .abtasty-modal__text H2 P",oldValue:"BODY .abtasty-modal__text H2 P {font-size:40px!important;line-height:40px!important;font-weight:900!important;margin-bottom:30px!important;margin:0px 0px 30px 0px!important;color:#B51F3C!important}",value:'{"font-size":"40px!important","line-height":"40px!important","font-weight":"900!important","margin-bottom":"30px!important","margin":"0px 0px 30px 0px!important","color":"#B51F3C!important"}'},{id:2606266,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__button A",oldValue:"BODY .abtasty-modal__text .abtasty-modal__button A {border-radius:0px!important}",value:'{"border-radius":"0px!important"}'},{id:2606267,type:"hideCSS",selector:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4)",oldValue:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4) {display:none!important;}",value:""},{id:2606269,type:"editText",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'},{id:2606270,type:"editStyleCSS",selector:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text",oldValue:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text {margin-top:12px!important;margin:12px 0px 0px 0px!important}",value:'{"margin-top":"12px!important","margin":"12px 0px 0px 0px!important"}'},{id:2606279,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2) {font-family:Roboto!important;text-align:center!important;font-size:20px!important;line-height:24px!important}",value:'{"font-family":"Roboto!important","text-align":"center!important","font-size":"20px!important","line-height":"24px!important"}'}],widgets:[{id:"854bef2f-6bbf-4957-aab4-d9b8b86299a3",version:"2.7",config:'{"type":"image","layout":"left","image":"https://editor-assets.abtasty.com/47533/5df16161a3e121576100193.png","title-separator":"","title":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Shop Our Biggest Sale of The Year</p>\\n","wysiwyg-content-separator":"","content":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.&nbsp;Discounts on ove<span style=\\"color:#000066;\\"></span>r 450 Products!</p>\\n","button-separator":"","button":true,"buttonText":"Shop Now","buttonLink":"https://www.lifeextension.com/sales/supersale","buttonTextColor":"rgba(255, 255, 255, 1)","buttonBackgroundColor":"rgba(238, 129, 50, 1)","widthImageWithText":"large","widthImageOnly":"fit","customWidth":50,"backgroundGroup":"","backgroundColor":"rgba(255, 255, 255, 1)","backgroundImage-style-separator":"","backgroundImage":"","overlay-style-separator":"","overlayOpacity":49,"borderGroup":"","borderWidth":0,"borderRadius-style-separator":"","borderRadius":10,"borderRadiusImage-separator":"","borderRadiusImage":10,"borderColor-style-separator":"","borderColor":"rgba(0, 0, 0, 1)","closeButtonGroup":"","closeButtonPosition":"inside","closeButtonColor-style-separator":"","closeButtonColor":"rgba(92, 92, 92, 1)","closeBackgroundButtonColor-style-separator":"","backgroundCloseButtonColor":"rgba(255, 255, 255, 1)","animation-separator":"","animation":"none","recurrence":"0","triggerEvent-separator":"","triggerEvent":"exitIntent","clickEventSelector":"","exitEventDelay":0,"reengageEventDelay":10,"triggerEventDelay":15}',name:"@abtasty/modal"}],redirections:[]},660999:{id:660999,name:"Delay",traffic:44,masterVariationId:0,modifications:[{id:2606280,type:"changeImage",selector:"BODY .abtasty-modal__content .abtasty-modal__image IMG",oldValue:"$('BODY .abtasty-modal__content .abtasty-modal__image IMG').attr('src','https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg');",value:"https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg"},{id:2606281,type:"editStyleCSS",selector:"BODY .abtasty-modal__text H2 P",oldValue:"BODY .abtasty-modal__text H2 P {font-size:40px!important;line-height:40px!important;font-weight:900!important;margin-bottom:30px!important;margin:0px 0px 30px 0px!important;color:#B51F3C!important}",value:'{"font-size":"40px!important","line-height":"40px!important","font-weight":"900!important","margin-bottom":"30px!important","margin":"0px 0px 30px 0px!important","color":"#B51F3C!important"}'},{id:2606282,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__button A",oldValue:"BODY .abtasty-modal__text .abtasty-modal__button A {border-radius:0px!important}",value:'{"border-radius":"0px!important"}'},{id:2606283,type:"hideCSS",selector:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4)",oldValue:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4) {display:none!important;}",value:""},{id:2606284,type:"editText",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'},{id:2606285,type:"editStyleCSS",selector:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text",oldValue:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text {margin-top:12px!important;margin:12px 0px 0px 0px!important}",value:'{"margin-top":"12px!important","margin":"12px 0px 0px 0px!important"}'},{id:2606286,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2) {font-family:Roboto!important;text-align:center!important;font-size:20px!important;line-height:24px!important}",value:'{"font-family":"Roboto!important","text-align":"center!important","font-size":"20px!important","line-height":"24px!important"}'}],widgets:[{id:"35d5eb2a-7edc-41f1-bb09-a9f42bd31971",version:"2.7",config:'{"type":"image","layout":"left","image":"https://editor-assets.abtasty.com/47533/5df16161a3e121576100193.png","title-separator":"","title":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Shop Our Biggest Sale of The Year</p>\\n","wysiwyg-content-separator":"","content":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.&nbsp;Discounts on ove<span style=\\"color:#000066;\\"></span>r 450 Products!</p>\\n","button-separator":"","button":true,"buttonText":"Shop Now","buttonLink":"https://www.lifeextension.com/sales/supersale","buttonTextColor":"rgba(255, 255, 255, 1)","buttonBackgroundColor":"rgba(238, 129, 50, 1)","widthImageWithText":"large","widthImageOnly":"fit","customWidth":50,"backgroundGroup":"","backgroundColor":"rgba(255, 255, 255, 1)","backgroundImage-style-separator":"","backgroundImage":"","overlay-style-separator":"","overlayOpacity":49,"borderGroup":"","borderWidth":0,"borderRadius-style-separator":"","borderRadius":10,"borderRadiusImage-separator":"","borderRadiusImage":10,"borderColor-style-separator":"","borderColor":"rgba(0, 0, 0, 1)","closeButtonGroup":"","closeButtonPosition":"inside","closeButtonColor-style-separator":"","closeButtonColor":"rgba(92, 92, 92, 1)","closeBackgroundButtonColor-style-separator":"","backgroundCloseButtonColor":"rgba(255, 255, 255, 1)","animation-separator":"","animation":"none","recurrence":"0","triggerEvent-separator":"","triggerEvent":"timer","clickEventSelector":"","exitEventDelay":0,"reengageEventDelay":10,"triggerEventDelay":30}',name:"@abtasty/modal"}],redirections:[]}}},531610:{id:531610,name:"Supersale Popin magazine pages- Mobile",traffic:66,type:"ab",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,priority:0,scopes:{urlScope:[{id:724057,include:!0,condition:"10",value:"/magazine"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},audience:{name:"Audience of the account47533",description:"My audience",hidden:!0,audience_origin_id:null,id:"a327f47e-49a7-42ca-9f85-16c04c1e78ad",targeting_groups:[{position:0,id:"6aafd75e-04fe-4b8e-8237-1331657c420a",targetings:[{operator:"auto",targeting_type:17,name:"DEVICE",conditions:[{id:"e3d15ee4-9c1f-4d3b-89c6-91d5fca2d342",value:1,include:!0}]}]}]},analytics:[],widgets:[],actionTrackings:{mousedown:[{name:"Shop Now CTA",selector:"BODY .abtasty-modal__content .abtasty-modal__text .abtasty-modal__button"},{name:"Close icon",selector:"BODY .abtasty-animation-none .abtasty-modal__close svg"},{name:"Title Click",selector:"BODY .abtasty-modal__text H2 SPAN:nth-child(4)"}]},variations:{663107:{id:663107,name:"Exit Intent",traffic:33,masterVariationId:0,modifications:[{id:2613988,type:"changeImage",selector:"BODY .abtasty-modal__content .abtasty-modal__image IMG",oldValue:"$('BODY .abtasty-modal__content .abtasty-modal__image IMG').attr('src','https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg');",value:"https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg"},{id:2613989,type:"editStyleCSS",selector:"BODY .abtasty-modal__text H2 P",oldValue:"BODY .abtasty-modal__text H2 P {font-size:50px!important;line-height:40px!important;font-weight:900!important;margin-bottom:30px!important;margin:0px 0px 30px 0px!important;color:#B51F3C!important}",value:'{"font-size":"50px!important","line-height":"40px!important","font-weight":"900!important","margin-bottom":"30px!important","margin":"0px 0px 30px 0px!important","color":"#B51F3C!important"}'},{id:2613990,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__button A",oldValue:"BODY .abtasty-modal__text .abtasty-modal__button A {border-radius:0px!important}",value:'{"border-radius":"0px!important"}'},{id:2613991,type:"hideCSS",selector:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4)",oldValue:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4) {display:none!important;}",value:""},{id:2613992,type:"editText",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'},{id:2613993,type:"editStyleCSS",selector:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text",oldValue:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text {margin-top:12px!important;margin:12px 0px 0px 0px!important}",value:'{"margin-top":"12px!important","margin":"12px 0px 0px 0px!important"}'},{id:2613994,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2) {font-family:Roboto!important;text-align:center!important;font-size:20px!important;line-height:24px!important}",value:'{"font-family":"Roboto!important","text-align":"center!important","font-size":"20px!important","line-height":"24px!important"}'},{id:2614018,type:"editText",selector:"BODY .abtasty-modal__content .abtasty-modal__text H2",oldValue:"Shop Our Biggest Sale Of The Year",value:"Shop Our Biggest Sale Of The Year"},{id:2614019,type:"editStyleCSS",selector:"BODY .abtasty-modal__text H2 SPAN:nth-child(4)",oldValue:"BODY .abtasty-modal__text H2 SPAN:nth-child(4) {font-size:30px!important;color:#B51F3C!important;font-weight:800!important}",value:'{"font-size":"30px!important","color":"#B51F3C!important","font-weight":"800!important"}'},{id:2614020,type:"editStyleCSS",selector:"BODY .abtasty-modal__innertext P:nth-child(2) SPAN:nth-child(4)",oldValue:"BODY .abtasty-modal__innertext P:nth-child(2) SPAN:nth-child(4) {font-size:25px!important}",value:'{"font-size":"25px!important"}'},{id:2614021,type:"editText",selector:"BODY .abtasty-modal__innertext P:nth-child(2) SPAN:nth-child(4)",oldValue:'Vitamins &amp; Supplements Backed By Sciencific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Sciencific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'},{id:2614022,type:"editStyleCSS",selector:"BODY P:nth-child(2) > SPAN:nth-child(4) SPAN:nth-child(6)",oldValue:"BODY P:nth-child(2) > SPAN:nth-child(4) SPAN:nth-child(6) {font-size:20px!important}",value:'{"font-size":"20px!important"}'},{id:2614023,type:"editText",selector:"BODY P:nth-child(2) > SPAN:nth-child(4) SPAN:nth-child(6)",oldValue:'Vitamins &amp; Supplements Backed By Scientific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Scientific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'}],widgets:[{id:"703e94a1-ab68-41f8-a01c-7d6f4886e56f",version:"2.7",config:'{"type":"image","layout":"top","image":"https://editor-assets.abtasty.com/47533/5df16161a3e121576100193.png","title-separator":"","title":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Shop Our Biggest Sale of The Year</p>\\n","wysiwyg-content-separator":"","content":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Vitamins &amp; Supplements Backed By Scientific Research.&nbsp;Discounts on ove<span style=\\"color:#000066;\\"></span>r 450 Products!</p>\\n","button-separator":"","button":true,"buttonText":"Shop Now","buttonLink":"https://www.lifeextension.com/sales/supersale","buttonTextColor":"rgba(255, 255, 255, 1)","buttonBackgroundColor":"rgba(238, 129, 50, 1)","widthImageWithText":"small","widthImageOnly":"fit","customWidth":31,"backgroundGroup":"","backgroundColor":"rgba(255, 255, 255, 1)","backgroundImage-style-separator":"","backgroundImage":"","overlay-style-separator":"","overlayOpacity":49,"borderGroup":"","borderWidth":0,"borderRadius-style-separator":"","borderRadius":10,"borderRadiusImage-separator":"","borderRadiusImage":10,"borderColor-style-separator":"","borderColor":"rgba(0, 0, 0, 1)","closeButtonGroup":"","closeButtonPosition":"inside","closeButtonColor-style-separator":"","closeButtonColor":"rgba(92, 92, 92, 1)","closeBackgroundButtonColor-style-separator":"","backgroundCloseButtonColor":"rgba(255, 255, 255, 1)","animation-separator":"","animation":"none","recurrence":"0","triggerEvent-separator":"","triggerEvent":"exitIntent","clickEventSelector":"","exitEventDelay":0,"reengageEventDelay":10,"triggerEventDelay":15}',name:"@abtasty/modal"}],redirections:[]},663108:{id:663108,name:"Delay",traffic:33,masterVariationId:0,modifications:[{id:2613995,type:"changeImage",selector:"BODY .abtasty-modal__content .abtasty-modal__image IMG",oldValue:"$('BODY .abtasty-modal__content .abtasty-modal__image IMG').attr('src','https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg');",value:"https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg"},{id:2613996,type:"editStyleCSS",selector:"BODY .abtasty-modal__text H2 P",oldValue:"BODY .abtasty-modal__text H2 P {font-size:30px!important;line-height:40px!important;font-weight:900!important;margin-bottom:30px!important;margin:0px 0px 30px 0px!important;color:#B51F3C!important}",value:'{"font-size":"30px!important","line-height":"40px!important","font-weight":"900!important","margin-bottom":"30px!important","margin":"0px 0px 30px 0px!important","color":"#B51F3C!important"}'},{id:2613997,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__button A",oldValue:"BODY .abtasty-modal__text .abtasty-modal__button A {border-radius:0px!important}",value:'{"border-radius":"0px!important"}'},{id:2613998,type:"hideCSS",selector:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4)",oldValue:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4) {display:none!important;}",value:""},{id:2613999,type:"editText",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'},{id:2614e3,type:"editStyleCSS",selector:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text",oldValue:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text {margin-top:12px!important;margin:12px 0px 0px 0px!important}",value:'{"margin-top":"12px!important","margin":"12px 0px 0px 0px!important"}'},{id:2614001,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2) {font-family:Roboto!important;text-align:center!important;font-size:20px!important;line-height:24px!important}",value:'{"font-family":"Roboto!important","text-align":"center!important","font-size":"20px!important","line-height":"24px!important"}'},{id:2614024,type:"editText",selector:"BODY .abtasty-modal__innertext P:nth-child(2) SPAN:nth-child(4)",oldValue:'Vitamins &amp; Supplements Backed By Scientific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Scientific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'},{id:2614025,type:"editStyleCSS",selector:"BODY P:nth-child(2) > SPAN:nth-child(4) SPAN:nth-child(6)",oldValue:"BODY P:nth-child(2) > SPAN:nth-child(4) SPAN:nth-child(6) {font-size:20px!important}",value:'{"font-size":"20px!important"}'}],widgets:[{id:"6ca19d6e-d24c-47f8-9117-f788cb2e3c2f",version:"2.7",config:'{"type":"image","layout":"top","image":"https://editor-assets.abtasty.com/47533/5df16161a3e121576100193.png","title-separator":"","title":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Shop Our Biggest Sale of The Year</p>\\n","wysiwyg-content-separator":"","content":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.&nbsp;Discounts on ove<span style=\\"color:#000066;\\"></span>r 450 Products!</p>\\n","button-separator":"","button":true,"buttonText":"Shop Now","buttonLink":"https://www.lifeextension.com/sales/supersale","buttonTextColor":"rgba(255, 255, 255, 1)","buttonBackgroundColor":"rgba(238, 129, 50, 1)","widthImageWithText":"small","widthImageOnly":"fit","customWidth":30,"backgroundGroup":"","backgroundColor":"rgba(255, 255, 255, 1)","backgroundImage-style-separator":"","backgroundImage":"","overlay-style-separator":"","overlayOpacity":49,"borderGroup":"","borderWidth":0,"borderRadius-style-separator":"","borderRadius":10,"borderRadiusImage-separator":"","borderRadiusImage":10,"borderColor-style-separator":"","borderColor":"rgba(0, 0, 0, 1)","closeButtonGroup":"","closeButtonPosition":"inside","closeButtonColor-style-separator":"","closeButtonColor":"rgba(92, 92, 92, 1)","closeBackgroundButtonColor-style-separator":"","backgroundCloseButtonColor":"rgba(255, 255, 255, 1)","animation-separator":"","animation":"none","recurrence":"0","triggerEvent-separator":"","triggerEvent":"timer","clickEventSelector":"","exitEventDelay":0,"reengageEventDelay":10,"triggerEventDelay":30}',name:"@abtasty/modal"}],redirections:[]}}},531925:{id:531925,name:"SSale Popin Protocols- Mobile",traffic:66,type:"ab",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,priority:0,scopes:{urlScope:[{id:724610,include:!0,condition:"10",value:"/protocols"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},audience:{name:"Audience of the account47533",description:"My audience",hidden:!0,audience_origin_id:null,id:"cee3e65d-4b1e-415b-8cdd-1ae30dc0987b",targeting_groups:[{position:0,id:"3d6c47ee-5d2e-436b-8b5e-977829665838",targetings:[{operator:"auto",targeting_type:17,name:"DEVICE",conditions:[{id:"f545f645-0826-4ac4-a263-a5442bdcf98b",value:1,include:!0}]}]}]},analytics:[],widgets:[],actionTrackings:{mousedown:[{name:"Shop Now CTA",selector:"BODY .abtasty-modal__content .abtasty-modal__text .abtasty-modal__button"},{name:"Close icon",selector:"BODY .abtasty-animation-none .abtasty-modal__close svg"},{name:"Title Click",selector:"BODY .abtasty-modal__text H2 SPAN:nth-child(4)"}]},variations:{663474:{id:663474,name:"Exit Intent",traffic:33,masterVariationId:0,modifications:[{id:2614861,type:"changeImage",selector:"BODY .abtasty-modal__content .abtasty-modal__image IMG",oldValue:"$('BODY .abtasty-modal__content .abtasty-modal__image IMG').attr('src','https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg');",value:"https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg"},{id:2614862,type:"editStyleCSS",selector:"BODY .abtasty-modal__text H2 P",oldValue:"BODY .abtasty-modal__text H2 P {font-size:50px!important;line-height:40px!important;font-weight:900!important;margin-bottom:30px!important;margin:0px 0px 30px 0px!important;color:#B51F3C!important}",value:'{"font-size":"50px!important","line-height":"40px!important","font-weight":"900!important","margin-bottom":"30px!important","margin":"0px 0px 30px 0px!important","color":"#B51F3C!important"}'},{id:2614863,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__button A",oldValue:"BODY .abtasty-modal__text .abtasty-modal__button A {border-radius:0px!important}",value:'{"border-radius":"0px!important"}'},{id:2614864,type:"hideCSS",selector:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4)",oldValue:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4) {display:none!important;}",value:""},{id:2614865,type:"editText",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'},{id:2614866,type:"editStyleCSS",selector:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text",oldValue:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text {margin-top:12px!important;margin:12px 0px 0px 0px!important}",value:'{"margin-top":"12px!important","margin":"12px 0px 0px 0px!important"}'},{id:2614867,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2) {font-family:Roboto!important;text-align:center!important;font-size:20px!important;line-height:24px!important}",value:'{"font-family":"Roboto!important","text-align":"center!important","font-size":"20px!important","line-height":"24px!important"}'},{id:2614868,type:"editText",selector:"BODY .abtasty-modal__content .abtasty-modal__text H2",oldValue:"Shop Our Biggest Sale Of The Year",value:"Shop Our Biggest Sale Of The Year"},{id:2614869,type:"editStyleCSS",selector:"BODY .abtasty-modal__text H2 SPAN:nth-child(4)",oldValue:"BODY .abtasty-modal__text H2 SPAN:nth-child(4) {font-size:30px!important;color:#B51F3C!important;font-weight:800!important}",value:'{"font-size":"30px!important","color":"#B51F3C!important","font-weight":"800!important"}'},{id:2614870,type:"editStyleCSS",selector:"BODY .abtasty-modal__innertext P:nth-child(2) SPAN:nth-child(4)",oldValue:"BODY .abtasty-modal__innertext P:nth-child(2) SPAN:nth-child(4) {font-size:25px!important}",value:'{"font-size":"25px!important"}'},{id:2614871,type:"editText",selector:"BODY .abtasty-modal__innertext P:nth-child(2) SPAN:nth-child(4)",oldValue:'Vitamins &amp; Supplements Backed By Sciencific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Sciencific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'},{id:2614872,type:"editStyleCSS",selector:"BODY P:nth-child(2) > SPAN:nth-child(4) SPAN:nth-child(6)",oldValue:"BODY P:nth-child(2) > SPAN:nth-child(4) SPAN:nth-child(6) {font-size:20px!important}",value:'{"font-size":"20px!important"}'},{id:2614873,type:"editText",selector:"BODY P:nth-child(2) > SPAN:nth-child(4) SPAN:nth-child(6)",oldValue:'Vitamins &amp; Supplements Backed By Scientific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Scientific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'}],widgets:[{id:"7d274d9c-01af-4b2c-824a-f47f3bdede3b",version:"2.7",config:'{"type":"image","layout":"top","image":"https://editor-assets.abtasty.com/47533/5df16161a3e121576100193.png","title-separator":"","title":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Shop Our Biggest Sale of The Year</p>\\n","wysiwyg-content-separator":"","content":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Vitamins &amp; Supplements Backed By Scientific Research.&nbsp;Discounts on ove<span style=\\"color:#000066;\\"></span>r 450 Products!</p>\\n","button-separator":"","button":true,"buttonText":"Shop Now","buttonLink":"https://www.lifeextension.com/sales/supersale","buttonTextColor":"rgba(255, 255, 255, 1)","buttonBackgroundColor":"rgba(238, 129, 50, 1)","widthImageWithText":"small","widthImageOnly":"fit","customWidth":31,"backgroundGroup":"","backgroundColor":"rgba(255, 255, 255, 1)","backgroundImage-style-separator":"","backgroundImage":"","overlay-style-separator":"","overlayOpacity":49,"borderGroup":"","borderWidth":0,"borderRadius-style-separator":"","borderRadius":10,"borderRadiusImage-separator":"","borderRadiusImage":10,"borderColor-style-separator":"","borderColor":"rgba(0, 0, 0, 1)","closeButtonGroup":"","closeButtonPosition":"inside","closeButtonColor-style-separator":"","closeButtonColor":"rgba(92, 92, 92, 1)","closeBackgroundButtonColor-style-separator":"","backgroundCloseButtonColor":"rgba(255, 255, 255, 1)","animation-separator":"","animation":"none","recurrence":"0","triggerEvent-separator":"","triggerEvent":"exitIntent","clickEventSelector":"","exitEventDelay":0,"reengageEventDelay":10,"triggerEventDelay":15}',name:"@abtasty/modal"}],redirections:[]},663475:{id:663475,name:"Delay",traffic:33,masterVariationId:0,modifications:[{id:2614874,type:"changeImage",selector:"BODY .abtasty-modal__content .abtasty-modal__image IMG",oldValue:"$('BODY .abtasty-modal__content .abtasty-modal__image IMG').attr('src','https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg');",value:"https://editor-assets.abtasty.com/47533/5df25c791f6af1576164473.jpg"},{id:2614875,type:"editStyleCSS",selector:"BODY .abtasty-modal__text H2 P",oldValue:"BODY .abtasty-modal__text H2 P {font-size:30px!important;line-height:40px!important;font-weight:900!important;margin-bottom:30px!important;margin:0px 0px 30px 0px!important;color:#B51F3C!important}",value:'{"font-size":"30px!important","line-height":"40px!important","font-weight":"900!important","margin-bottom":"30px!important","margin":"0px 0px 30px 0px!important","color":"#B51F3C!important"}'},{id:2614876,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__button A",oldValue:"BODY .abtasty-modal__text .abtasty-modal__button A {border-radius:0px!important}",value:'{"border-radius":"0px!important"}'},{id:2614877,type:"hideCSS",selector:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4)",oldValue:"BODY .abtasty-modal__innertext SPAN:nth-child(7) P:nth-child(4) {display:none!important;}",value:""},{id:2614878,type:"editText",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'},{id:2614879,type:"editStyleCSS",selector:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text",oldValue:"BODY .abtasty-animation-none .abtasty-modal__content .abtasty-modal__text {margin-top:12px!important;margin:12px 0px 0px 0px!important}",value:'{"margin-top":"12px!important","margin":"12px 0px 0px 0px!important"}'},{id:2614880,type:"editStyleCSS",selector:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2)",oldValue:"BODY .abtasty-modal__text .abtasty-modal__innertext P:nth-child(2) {font-family:Roboto!important;text-align:center!important;font-size:20px!important;line-height:24px!important}",value:'{"font-family":"Roboto!important","text-align":"center!important","font-size":"20px!important","line-height":"24px!important"}'},{id:2614881,type:"editText",selector:"BODY .abtasty-modal__innertext P:nth-child(2) SPAN:nth-child(4)",oldValue:'Vitamins &amp; Supplements Backed By Scientific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!',value:'Vitamins &amp; Supplements Backed By Scientific Research.<br />\nDiscounts on ove<span style="color:#000066"></span>r 450 Products!'},{id:2614882,type:"editStyleCSS",selector:"BODY P:nth-child(2) > SPAN:nth-child(4) SPAN:nth-child(6)",oldValue:"BODY P:nth-child(2) > SPAN:nth-child(4) SPAN:nth-child(6) {font-size:20px!important}",value:'{"font-size":"20px!important"}'}],widgets:[{id:"5fe2ba9e-71a3-42ef-bf05-2a3e8c278c5e",version:"2.7",config:'{"type":"image","layout":"top","image":"https://editor-assets.abtasty.com/47533/5df16161a3e121576100193.png","title-separator":"","title":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Shop Our Biggest Sale of The Year</p>\\n","wysiwyg-content-separator":"","content":"\x3c!-- Click the button again to validate your changes --\x3e\\n<p>Vitamins &amp; Supplements Backed By Sciencific Research&nbsp;For a Healthier You.&nbsp;Discounts on ove<span style=\\"color:#000066;\\"></span>r 450 Products!</p>\\n","button-separator":"","button":true,"buttonText":"Shop Now","buttonLink":"https://www.lifeextension.com/sales/supersale","buttonTextColor":"rgba(255, 255, 255, 1)","buttonBackgroundColor":"rgba(238, 129, 50, 1)","widthImageWithText":"small","widthImageOnly":"fit","customWidth":30,"backgroundGroup":"","backgroundColor":"rgba(255, 255, 255, 1)","backgroundImage-style-separator":"","backgroundImage":"","overlay-style-separator":"","overlayOpacity":49,"borderGroup":"","borderWidth":0,"borderRadius-style-separator":"","borderRadius":10,"borderRadiusImage-separator":"","borderRadiusImage":10,"borderColor-style-separator":"","borderColor":"rgba(0, 0, 0, 1)","closeButtonGroup":"","closeButtonPosition":"inside","closeButtonColor-style-separator":"","closeButtonColor":"rgba(92, 92, 92, 1)","closeBackgroundButtonColor-style-separator":"","backgroundCloseButtonColor":"rgba(255, 255, 255, 1)","animation-separator":"","animation":"none","recurrence":"0","triggerEvent-separator":"","triggerEvent":"timer","clickEventSelector":"","exitEventDelay":0,"reengageEventDelay":10,"triggerEventDelay":30}',name:"@abtasty/modal"}],redirections:[]}}},global:{needGeolocFetch:[],needAdBlockDetection:[],needUAParserFetch:[524696,531610,531925],needModificationEngine:!0}},widgets:{"@abtasty/modal":{2.7:'!function(){"use strict";function t(){V&&(document.querySelector("body").style.overflowY=V),H.style.display="none","video"===m&&(H.innerHTML=""),void 0!==Q&&ABTastyEvent(Q+" "+m+" modal closed",null,TEST_ID)}function a(){return H.querySelector(J)&&H.querySelector(G)?(H.querySelector(J).addEventListener("click",t),H.querySelector(G).addEventListener("click",t),0):setTimeout(a,50)}function e(t,a){return t.matches?t.matches(a):t.msMatchesSelector(a)}function o(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={layout:S,type:m,borderRadius:p,borderRadiusImage:_,borderWidth:f,borderColor:g,button:h,buttonBackgroundColor:v,buttonLink:x,buttonText:w,buttonTextColor:k,backgroundColor:"imageOnly"!==S?b:"initial",overlayOpacity:u,backgroundImage:c,image:N,width:M,videoLink:L,customWidth:B,animation:y,title:E,closeButtonPosition:I,backgroundCloseButtonColor:T,modalContent:O||t.outerHTML};if(H.className="abtasty-modal abtasty-modal--"+m,H.dataset.testId=TEST_ID,H.innerHTML=l(a),document.body.appendChild(H),K=H.querySelector(".abtasty-modal__area"),C){H.querySelector(G+" .close-x").style.stroke=C}}function i(){var t=(window.innerWidth>630?.5*window.innerWidth:window.innerWidth-40)/16*9;return Math.round(t)}function n(){var t="abtasty-widget-video-"+Date.now(),a=document.createElement("iframe");a.setAttribute("id",t);var e=function(t){var a=t.indexOf("youtu")>-1,e=t.indexOf("vimeo")>-1,o=void 0;a?(o="//www.youtube.com/embed/"+t.match(/^.*(youtu.be\\/|v\\/|e\\/|u\\/\\w+\\/|embed\\/|v=)([^#&?]*).*/)[2]+"?rel=0",q&&(o+="&autoplay=1")):e&&(o="//player.vimeo.com/video/"+t.match(/.*(www\\.)?vimeo.com\\/(\\d+)($|\\/)/)[2]);return o}(L),n=i();a.style.height=n+"px","no-title"===S&&(a.style.border=f+"px solid "+g+"!important",a.style.borderRadius=p+"px!important"),a.src=e,a.frameBorder=0,a.allowfullscreen=!0,o(a),K.style.height=n+"px",window.addEventListener("resize",function(){var t=document.querySelector("abtasty-modal iframe"),a=i();t.style.height=a+"px",K.style.height=a+"px"})}function r(){if(function(){var t=Number(W),a=localStorage.getItem(U);return!(a&&-1!==t&&!j&&!F)||(0===t?!sessionStorage.getItem(U):a<$-24*t*60*60*1e3)}()){if("video"===m)n(),a();else if("image"===m&&"fit"===M){var t=new Image;t.src=N,t.className="abtasty-modal__media",t.onload=function(){o(this),K.style.width=this.width+"px",K.style.height=this.height+"px",a()}}else o(),a();H.style.display="block",function(){var t=document.querySelector("body");V=window.getComputedStyle(t).overflowY,t.style.overflowY="hidden"}(),void 0!==Q&&ABTastyEvent(Q+" "+m+" modal displayed",null,TEST_ID),j||(localStorage.setItem(U,$),sessionStorage.setItem(U,$))}}!function(t,a){if("undefined"==typeof document)return a;t=t||"";var e=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",e.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}("abtasty-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:2147483145}abtasty-modal:not(.abtasty-modal--video){overflow-y:auto}abtasty-modal__underlay{width:100%;height:100%;position:fixed;top:0;left:0;background-color:rgba(0,0,0,.5);cursor:pointer}.abtasty-modal__area{top:0;left:0;right:0;width:auto;margin:10px!important;z-index:100;position:relative;float:none}.abtasty-modal__area-layout--imageOnly{max-width:80%}.abtasty-modal__area-layout--imageOnly img{border-style:solid;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:100%;opacity:1}.abtasty-modal__area-type--video.abtasty-modal__area-layout--no-title .abtasty-modal__content{padding:5px;border-radius:0!important;border-width:0!important;background-color:transparent!important;background-image:none!important}.abtasty-modal__area-type--video.abtasty-modal__area-layout--bottom .abtasty-modal__content{padding:25px 20px 20px}.abtasty-modal .abtasty-modal__content{border-color:#f6f6f6;border-style:solid;padding:20px}.abtasty-modal__area-type--image,.abtasty-modal__area-type--no-title,.abtasty-modal__area-type--simple,.abtasty-modal__area-type--video{margin:0 auto 20px!important;top:10vh;border:none;background:none}.abtasty-modal__area-type--video.abtasty-modal__area-layout--bottom .abtasty-modal__close--inside{top:2px}.abtasty-modal__area-type--video.abtasty-modal__area-layout--top .abtasty-modal__close--inside{right:15px;top:20px}.abtasty-modal__area-type--image .abtasty-modal__close,.abtasty-modal__area-type--simple .abtasty-modal__close{right:10px;top:15px}.abtasty-modal__close{position:absolute;right:5px;top:0;font-size:20px;font-weight:300;background:transparent;border:0;color:#222;font-family:Helvetica Neue,Helvetica,Arial,sans-serif!important;line-height:24px!important;margin-right:5px;cursor:pointer;width:20px;height:20px;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.abtasty-modal__close svg{display:block}.abtasty-modal__close svg .close-x{stroke:#5c5c5c;fill:transparent;stroke-linecap:round;stroke-width:3}.abtasty-modal__area-type--video.abtasty-modal__area-layout--no-title .abtasty-modal__close--inside{top:-6px;right:-15px;background:#fff;border-radius:20px;width:20px;height:20px}.abtasty-modal__area-type--image .abtasty-modal__close--outside,.abtasty-modal__area-type--simple .abtasty-modal__close--outside,.abtasty-modal__close .abtasty-modal__close--outside{top:-25px;right:0;width:20px;height:20px}.abtasty-modal__close--outside{top:-25px;right:-25px;background:#fff;border-radius:20px;width:20px;height:20px}.abtasty-modal__media,.abtasty-modal__media-link{max-width:100%;display:block}.abtasty-modal__text{padding:20px;font-family:Open Sans,sans-serif!important;color:#000;overflow:auto}.abtasty-modal__title{width:auto;font-size:20px!important;font-weight:500;line-height:1.1;margin-bottom:10px}.abtasty-modal__text p{margin:0 0 10px!important;font-size:15px;font-weight:300;word-wrap:break-word}.abtasty-modal__button{width:100%;text-align:center;margin-top:20px}.abtasty-modal__button a{padding:10px 20px;border-radius:10px;display:inline-block;font-weight:700}.abtasty-modal__area-type--simple.abtasty-modal__area-layout--center .abtasty-modal__title{text-align:center}.abtasty-modal__area-type--simple.abtasty-modal__area-layout--center .abtasty-modal__innertext{text-align:center;white-space:pre-wrap}.abtasty-modal__area-type--simple.abtasty-modal__area-layout--left .abtasty-modal__title{width:50%;float:left;text-align:center;vertical-align:middle}.abtasty-modal__area-type--simple.abtasty-modal__area-layout--left .abtasty-modal__innertext{width:50%;float:left}.abtasty-modal__area-type--simple.abtasty-modal__area-layout--right .abtasty-modal__title{width:50%;float:left;text-align:center;vertical-align:middle}.abtasty-modal__area-type--simple.abtasty-modal__area-layout--right .abtasty-modal__innertext{width:50%;float:left}.abtasty-modal__area-type--image .abtasty-modal__image img{max-height:400px;max-width:100%;display:inline;opacity:1}.abtasty-modal__area-type--image.abtasty-modal__area-layout--left .abtasty-modal__image{width:50%;display:inline-block;height:auto;vertical-align:middle;text-align:center}.abtasty-modal__area-type--image.abtasty-modal__area-layout--left .abtasty-modal__text{text-align:left;width:50%;display:inline-block;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}.abtasty-modal__area-type--image.abtasty-modal__area-layout--right .abtasty-modal__image{width:50%;display:inline-block;height:auto;vertical-align:middle;text-align:center}.abtasty-modal__area-type--image.abtasty-modal__area-layout--right .abtasty-modal__text{text-align:left;width:50%;display:inline-block;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}.abtasty-modal__area-type--image.abtasty-modal__area-layout--top .abtasty-modal__image{width:100%;text-align:center}.abtasty-modal__area-type--image.abtasty-modal__area-layout--top .abtasty-modal__text{width:100%;padding:20px 0}.abtasty-modal__area-type--image.abtasty-modal__area-layout--top .abtasty-modal__image img{max-height:300px;opacity:1}.abtasty-modal__area-type--image.abtasty-modal__area-layout--bottom .abtasty-modal__image{width:100%;text-align:center}.abtasty-modal__area-type--image.abtasty-modal__area-layout--bottom .abtasty-modal__text{width:100%;padding:20px 0}.abtasty-modal__area-type--video{text-align:center;width:100%}.abtasty-modal__area-type--video iframe{width:100%}@media (min-width:630px){abtasty-modal:not(.abtasty-modal--video) .abtasty-modal__area-width--medium{width:600px;margin:0 auto 20px!important}.abtasty-modal--video{width:50%;left:25%}}@media (min-width:330px){abtasty-modal:not(.abtasty-modal--video) .abtasty-modal__area-width--small{width:300px;margin:0 auto 20px!important}}@media (min-width:930px){abtasty-modal:not(.abtasty-modal--video) .abtasty-modal__area-width--large{width:900px;margin:0 auto 20px!important}}.abtasty-animation-fadeIn{-webkit-animation-name:abTastyfadeIn;animation-name:abTastyfadeIn}.abtasty-animation-fadeIn,.abtasty-animation-fadeOut{-webkit-animation-duration:.5s;animation-duration:.5s}.abtasty-animation-fadeOut{-webkit-animation-name:abTastyfadeOut;animation-name:abTastyfadeOut}.abtasty-animation-slideIn{-webkit-animation-name:abTastyslideInDown;animation-name:abTastyslideInDown;-webkit-animation-duration:.5s;animation-duration:.5s}.abtasty-animation-slideOut{-webkit-animation-name:abTastyslideOutUp;animation-name:abTastyslideOutUp;-webkit-animation-duration:.5s;animation-duration:.5s}@-webkit-keyframes abTastyfadeIn{0%{opacity:0}to{opacity:1}}@keyframes abTastyfadeIn{0%{opacity:0}to{opacity:1}}@-webkit-keyframes abTastyfadeOut{0%{opacity:1}to{opacity:0}}@keyframes abTastyfadeOut{0%{opacity:1}to{opacity:0}}@-webkit-keyframes abTastyslideInDown{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes abTastyslideInDown{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes abTastyslideOutUp{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}@keyframes abTastyslideOutUp{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}",void 0);var d=function(t){function a(t,e){if(1===arguments.length){for(var i=t[0],n=1;n<t.length;n++)i=a(i,t[n]);return i}for(var r in e)if("class"===r){var d=t[r]||[];t[r]=(Array.isArray(d)?d:[d]).concat(e[r]||[])}else if("style"===r){d=o(t[r]);var l=o(e[r]);t[r]=d+l}else t[r]=e[r];return t}function e(t,a){return Array.isArray(t)?function(t,a){for(var o,i="",r="",d=Array.isArray(a),l=0;l<t.length;l++)(o=e(t[l]))&&(d&&a[l]&&(o=n(o)),i=i+r+o,r=" ");return i}(t,a):t&&"object"==typeof t?function(t){var a="",e="";for(var o in t)o&&t[o]&&d.call(t,o)&&(a=a+e+o,e=" ");return a}(t):t||""}function o(t){if(!t)return"";if("object"==typeof t){var a="";for(var e in t)d.call(t,e)&&(a=a+e+":"+t[e]+";");return a}return";"!==(t+="")[t.length-1]?t+";":t}function i(t,a,e,o){return!1!==a&&null!=a&&(a||"class"!==t&&"style"!==t)?!0===a?" "+(o?t:t+\'="\'+t+\'"\'):("function"==typeof a.toJSON&&(a=a.toJSON()),"string"==typeof a||(a=JSON.stringify(a),e||-1===a.indexOf(\'"\'))?(e&&(a=n(a))," "+t+\'="\'+a+\'"\'):" "+t+"=\'"+a.replace(/\'/g,"&#39;")+"\'"):""}function n(t){var a=""+t,e=l.exec(a);if(!e)return t;var o,i,n,r="";for(o=e.index,i=0;o<a.length;o++){switch(a.charCodeAt(o)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==o&&(r+=a.substring(i,o)),i=o+1,r+=n}return i!==o?r+a.substring(i,o):r}function r(t,a,e,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&a||o))throw t.message+=" on line "+e,t;try{o=o||require("fs").readFileSync(a,"utf8")}catch(a){r(t,null,e)}var i=3,n=o.split("\\n"),d=Math.max(e-i,0),l=Math.min(n.length,e+i);i=n.slice(d,l).map(function(t,a){var o=a+d+1;return(o==e?"  > ":"    ")+o+"| "+t}).join("\\n");throw t.path=a,t.message=(a||"Pug")+":"+e+"\\n"+i+"\\n\\n"+t.message,t}var d=Object.prototype.hasOwnProperty;t.merge=a,t.classes=e,t.style=o,t.attr=i,t.attrs=function(t,a){var n="";for(var r in t)if(d.call(t,r)){var l=t[r];if("class"===r){n=i(r,l=e(l),!1,a)+n;continue}"style"===r&&(l=o(l)),n+=i(r,l,!1,a)}return n};var l=/["&<>]/;return t.escape=n,t.rethrow=r,t}({}),l=function(t){var a,e="",o={};try{var i={},n=t||{};(function(t,i,n,r,l,s,m,y,b,u,c,p,_,f,g,h,v,x,w,k,T,C){o.button=a=function(){this&&this.block,this&&this.attributes;e=(e=(e+=\'<div class="abtasty-modal__button">\')+"<a"+d.attr("href",c,!0,!0)+\' target="_self"\'+d.attr("style",d.style({"background-color":u+"!important",color:_+"!important"}),!0,!0)+">")+d.escape(null==(a=p)?"":a)+"</a></div>"},o.title=a=function(){this&&this.block,this&&this.attributes;e=(e+=\'<h2 class="abtasty-modal__title" style="text-align:center;">\')+(null==(a=k)?"":a)+"</h2>"},o.imageOnly=a=function(){this&&this.block,this&&this.attributes;e=e+"<img"+(d.attr("src",h,!0,!0)+d.attr("style",d.style({"border-radius":s+"px!important","border-width":y+"px!important","border-color":l+"!important"}),!0,!0))+">"},o.imageWithText=a=function(){this&&this.block,this&&this.attributes;e+=\'<div class="abtasty-modal__image">\',h&&(e=e+"<img"+(d.attr("src",h,!0,!0)+d.attr("style",d.style({"border-radius":m+"px!important"}),!0,!0))+">"),e+="</div>"},o.content=a=function(){this&&this.block,this&&this.attributes;e+=\'<div class="abtasty-modal__innertext">\',e=(e+="<p>")+(null==(a=x)?"":a)+"</p></div>"},o.closeButton=a=function(){this&&this.block,this&&this.attributes;e=e+"<div"+d.attr("class",d.classes(["abtasty-modal__close",f?"abtasty-modal__close--"+f:""],[!1,!0]),!1,!0)+" data-abtasty-actionnable"+d.attr("style",d.style("outside"===f?{"background-color":i}:""),!0,!0)+">",e+=\'<svg viewbox="0 0 40 40">\',e+=\'<path class="close-x" d="M 10,10 L 30,30 M 30,10 L 10,30"></path></svg></div>\'},o.contentWrapper=a=function(){var t=this&&this.block;this&&this.attributes;e=e+\'<div class="abtasty-modal__content"\'+d.attr("style",d.style({"border-radius":s+"px!important","border-width":y+"px!important","border-color":l+"!important","background-color":n+"!important","background-image":\'url("\'+r+\'")!important\'}),!0,!0)+">",t&&t&&t(),e+="</div>"},o.modalWrapper=a=function(){var a=this&&this.block;this&&this.attributes;e=(e=e+"<abtasty-modal__underlay"+d.attr("style",d.style({"background-color":"rgba(0, 0, 0, "+w/100+")"}),!0,!0)+"></abtasty-modal__underlay>")+"<div"+(d.attr("class",d.classes(["abtasty-animation-"+t+" abtasty-modal__area abtasty-modal__area-width--"+C+" abtasty-modal__area-type--"+T+" abtasty-modal__area-layout--"+v],[!0]),!1,!0)+d.attr("style",d.style({width:"custom"===C&&g+"%","margin-left":"custom"===C&&(100-g)/2+"% !important"}),!0,!0))+">",a&&a&&a(),e+="</div>"},o.modalWrapper.call({block:function(){o.closeButton(),"image"===T&&"imageOnly"===v?(o.imageOnly(),b&&o.button()):o.contentWrapper.call({block:function(){"simple"===T?(e+=\'<div class="abtasty-modal__text">\',"center"===v||"left"===v?(o.title(),o.content(),e+=\'<div style="clear:both;"></div>\'):(o.content(),o.title(),e+=\'<div style="clear:both;"></div>\'),e+="</div>",b&&o.button()):"image"===T?("top"!==v&&"left"!==v||o.imageWithText(),e+=\'<div class="abtasty-modal__text">\',o.title(),o.content(),b&&o.button(),e+="</div>","right"!==v&&"bottom"!==v||o.imageWithText(),e+=\'<div style="clear:both;"></div>\'):"video"===T&&("top"===v&&o.title(),e+=null==(a=x)?"":a,"bottom"===v&&o.title(),b&&o.button())}})}})}).call(this,"animation"in n?n.animation:"undefined"!=typeof animation?animation:void 0,"backgroundCloseButtonColor"in n?n.backgroundCloseButtonColor:"undefined"!=typeof backgroundCloseButtonColor?backgroundCloseButtonColor:void 0,"backgroundColor"in n?n.backgroundColor:"undefined"!=typeof backgroundColor?backgroundColor:void 0,"backgroundImage"in n?n.backgroundImage:"undefined"!=typeof backgroundImage?backgroundImage:void 0,"borderColor"in n?n.borderColor:"undefined"!=typeof borderColor?borderColor:void 0,"borderRadius"in n?n.borderRadius:"undefined"!=typeof borderRadius?borderRadius:void 0,"borderRadiusImage"in n?n.borderRadiusImage:"undefined"!=typeof borderRadiusImage?borderRadiusImage:void 0,"borderWidth"in n?n.borderWidth:"undefined"!=typeof borderWidth?borderWidth:void 0,"button"in n?n.button:"undefined"!=typeof button?button:void 0,"buttonBackgroundColor"in n?n.buttonBackgroundColor:"undefined"!=typeof buttonBackgroundColor?buttonBackgroundColor:void 0,"buttonLink"in n?n.buttonLink:"undefined"!=typeof buttonLink?buttonLink:void 0,"buttonText"in n?n.buttonText:"undefined"!=typeof buttonText?buttonText:void 0,"buttonTextColor"in n?n.buttonTextColor:"undefined"!=typeof buttonTextColor?buttonTextColor:void 0,"closeButtonPosition"in n?n.closeButtonPosition:"undefined"!=typeof closeButtonPosition?closeButtonPosition:void 0,"customWidth"in n?n.customWidth:"undefined"!=typeof customWidth?customWidth:void 0,"image"in n?n.image:"undefined"!=typeof image?image:void 0,"layout"in n?n.layout:"undefined"!=typeof layout?layout:void 0,"modalContent"in n?n.modalContent:"undefined"!=typeof modalContent?modalContent:void 0,"overlayOpacity"in n?n.overlayOpacity:"undefined"!=typeof overlayOpacity?overlayOpacity:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"type"in n?n.type:"undefined"!=typeof type?type:void 0,"width"in n?n.width:"undefined"!=typeof width?width:void 0)}catch(t){d.rethrow(t,void 0,void 0,i[void 0])}return e},s=DATA,m=s.type,y=s.animation,b=s.backgroundColor,u=s.overlayOpacity,c=s.backgroundImage,p=s.borderRadius,_=s.borderRadiusImage,f=s.borderWidth,g=s.borderColor,h=s.button,v=s.buttonBackgroundColor,x=s.buttonLink,w=s.buttonText,k=s.buttonTextColor,T=s.backgroundCloseButtonColor,C=s.closeButtonColor,I=s.closeButtonPosition,O=s.content,B=s.customWidth,E=s.title,S=s.layout,L=s.videoLink,W=s.recurrence,A=s.triggerEvent,Y=s.triggerEventDelay,D=s.clickEventSelector,z=s.widthImageWithText,R=s.widthImageOnly,q=s.autoPlay,M="imageOnly"===S?R:z,N=DATA.image||"https://widgets-images.abtasty.com/image-placeholder.png",P=void 0,H=document.createElement("abtasty-modal"),U="AB Tasty Modal "+m+" "+TEST_ID,j=void 0!==window.ABTastyEditor,F=!!sessionStorage.getItem("ABTastyPreview"),J="abtasty-modal__underlay",G=".abtasty-modal__close",$=Date.now(),K=void 0,Q=PLUGIN_ID,V=void 0;!function(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}(function(){var t=window.top.ABTastyWidgetForm||!1;if(j&&t)r();else if("click"===A)!function(t,a,o){document.body.addEventListener("click",function(i){var n=i.target;if(!o||!e(n,o))for(;n;){if(n!==document&&e(n,t)){a();break}n=n.parentNode}})}(D,r,J+", "+G);else switch(A){case"pageLoad":r();break;case"exitIntent":!function(t){var a=DATA.exitEventDelay,e=parseFloat(a)||0,o=void 0,i=0;document.addEventListener("mousemove",function(t){i=t.clientY}),document.body.addEventListener("mouseleave",function a(n){n.clientY<=50&&(i=0,clearInterval(o),o=setTimeout(function(){0===i&&(t(),document.body.removeEventListener("mouseleave",a))},1e3*e))},!1)}(r);break;case"reengage":!function(t){var a=DATA.reengageEventDelay,e=["mousemove","keydown","scroll"],o=void 0,i=!1;e.forEach(function(n){document.addEventListener(n,function n(){clearTimeout(o),o=setTimeout(function(){i||(t(),i=!0),e.forEach(function(t){return document.removeEventListener(t,n)})},1e3*a)},!1)})}(r);break;case"timer":clearTimeout(P),P=setTimeout(r,1e3*Y)}})}();\n'}},crossDomainSettings:[],customVariables:[],nirror:[],obsoletes:[493651,493652,493653,496536,525126]};e.noMoreQuota=(t=o)=>{const{pack:e,quota:n}=t.accountSettings;return 0===e.indexOf("quota")&&n<=0},e.shouldRunAsynchronously=({accountSettings:t}=o)=>1===Number(t.runAsThread),e.getAccountData=()=>o,e.getAccountCampaign=t=>e.getAccountData().tests[t],e.getAccountSettings=()=>e.getAccountData().accountSettings,e.getSessionRecordingSettings=()=>e.getAccountData().nirror,e.getAccountIdentifier=()=>e.getAccountSettings().identifier,e.getAccountID=()=>e.getAccountSettings().id,e.getCrossDomainSettings=()=>e.getAccountData().crossDomainSettings,e.usesAdblockTargeting=()=>a.Campaign.getGlobalCampaignsInfos().needAdBlockDetection.length>0,e.usesGeolocTargeting=()=>a.Campaign.getGlobalCampaignsInfos().needGeolocFetch.length>0,e.usesUAParserTargeting=()=>a.Campaign.getGlobalCampaignsInfos().needUAParserFetch.length>0},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=void 0,a=(e.setDocument=function(t){n=t},e.getDocument=function(){return n||t.document}),o=e.setData=function(t,e,n){var a=t;a.dataset?a.dataset[e]=n:a.setAttribute(e,n)},r=e.getData=function(t,e){return t.dataset?t.dataset[e]:t.getAttribute(e)},i=e.addChildNode=function(t,e){return t.appendChild(e),function(){if(t.contains(e))try{t.removeChild(e)}catch(t){console.warn("The modification isn't correct. Please contact AB Tasty support team! \n "+t)}}},s=e.addSiblingNode=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&e&&t.parentNode&&!t.parentNode.contains(e)){var a=t.parentNode;return n?a.insertBefore(e,t.nextSibling):a.insertBefore(e,t),function(){if(a.contains(e))try{a.removeChild(e)}catch(t){console.warn("The modification isn't correct. Please contact AB Tasty support team! \n "+t)}}}};e.removeNode=function(e){var n=e,r=!1;if(n&&n.parentNode&&(n.nodeType===Node.TEXT_NODE||!n.style||"none"!==n.style.display)){n.nodeType===Node.TEXT_NODE&&((n=a().createElement("span")).innerHTML=e.nodeValue,o(n,"abTastyRemoved",1),r=!0,e.parentNode.replaceChild(n,e));var i=t.getComputedStyle(n).display;return n.style.display="none",o(n,"abTastyRemoved",1),function(){n.parentNode&&(r?n.parentNode.replaceChild(e,n):(n.style.display=i,n.attributes.style&&""===n.attributes.style.value&&n.removeAttribute("style"),n.removeAttribute("data-ab-tasty-removed")))}}},e.moveChildNode=function(t,e){var n=t,a=n.parentNode;if(!e||!n||r(n,"abTastyMoved"))return null;var s=n.cloneNode(!0);return s.style.display="none",s.id="",s.className="",o(s,"abTastyMoved",1),o(n,"abTastyMoved",1),a.replaceChild(s,n),i(e,n),function(){s.parentNode&&s.parentNode.removeChild(s),n.parentNode&&n.parentNode.removeChild(n),a.parentNode&&(n.removeAttribute("data-ab-tasty-moved"),a.appendChild(n))}},e.moveSiblingNode=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=t,i=a.parentNode;if(!e||!a||r(a,"abTastyMoved"))return null;var c=a.cloneNode(!0);return c.style.display="none",o(c,"abTastyMoved",1),o(a,"abTastyMoved",1),i.replaceChild(c,a),s(e,a,n),function(){c.parentNode&&c.parentNode.removeChild(c),a.parentNode&&a.parentNode.removeChild(a),i.parentNode&&(a.removeAttribute("data-ab-tasty-moved"),i.appendChild(a))}},e.isEqualNode=function(t,e){return t&&e&&(t.isEqualNode(e)||t.nodeType!==Node.TEXT_NODE&&t.tagName===e.tagName&&t.innerHTML===e.innerHTML)},e.qsa=function(t){try{var e=a();if(/^(#?[\w-]+|\.[\w-.]+)$/.test(t))switch(t.charAt(0)){case"#":return[e.getElementById(t.substr(1))].filter((function(t){return null!=t}));case".":var n=t.substr(1).replace(/\./g," ");return[].slice.call(e.getElementsByClassName(n)).filter((function(t){return null!=t}));default:return[].slice.call(e.getElementsByTagName(t)).filter((function(t){return null!=t}))}return[].slice.call(e.querySelectorAll(t))}catch(t){return[]}},e.setAttribute=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"edit",o=t.getAttribute(e);return"edit"===a?t.setAttribute(e,n):t.removeAttribute(e),function(){null==o?t.removeAttribute(e):t.setAttribute(e,o)}},e.isEqualLink=function(t,e){return t.nodeType!==Node.TEXT_NODE&&t.tagName===e.tagName&&r(t,"abTastyLink")===r(e,"abTastyLink")&&t.href===e.href},e.setNodeStyle=function(t,e,n){var a=t,o=a.style[e];return a.style[e]=n,function(){a.parentNode&&(a.style[e]=o)}}}).call(this,n(24))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createAppliedModification=function(){return{rollbacks:[],target:null,elements:{},savedState:null}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HIT_TYPES={campaign:"CAMPAIGN",event:"EVENT",item:"ITEM",pageview:"PAGEVIEW",segment:"SEGMENT",transaction:"TRANSACTION",visitorevent:"VISITOREVENT",performance:"PERFORMANCE",nps:"NPS",batch:"BATCH",datalayer:"DATALAYER"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(0);e.curry=a.curry;var o=n(53);e.pipe=o.pipe;var r=n(37);e.__=r.__;var i=n(54);e.self=i.self;var s=n(55);e.throttle=s.throttle;var c=n(56);e.pushInto=c.pushInto;var l=n(57);e.call=l.call;var d=n(58);e.ifElse=d.ifElse;var u=n(59);e.isNil=u.isNil;var p=n(60);e.isEmpty=p.isEmpty;var m=n(61);e.split=m.split;var f=n(62);e.match=f.match;var g=n(63);e.splitMap=g.splitMap;var y=n(64);e.map=y.map;var h=n(65);e.reject=h.reject;var b=n(66);e.fromPairs=b.fromPairs;var v=n(67);e.last=v.last;var _=n(68);e.filter=_.filter;var w=n(69);e.groupBy=w.groupBy;var S=n(70);e.pluck=S.pluck;var T=n(71);e.join=T.join;var A=n(72);e.some=A.some;var O=n(73);e.filterProps=O.filterProps;var C=n(38);e.prop=C.prop;var x=n(39);e.path=x.path;var E=n(74);e.propEq=E.propEq;var P=n(75);e.propOr=P.propOr;var k=n(78);e.propSatisfies=k.propSatisfies;var B=n(79);e.pickBy=B.pickBy;var I=n(80);e.mapObjIndexed=I.mapObjIndexed;var D=n(81);e.add=D.add;var M=n(82);e.substract=M.substract;var N=n(83);e.square=N.square;var j=n(84);e.cube=j.cube;var R=n(85);e.divide=R.divide;var V=n(86);e.multiply=V.multiply;var L=n(87);e.power=L.power},function(t,e,n){t.exports="function"==typeof Array.from?Array.from:n(91)},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=n(50),r=a(n(10)),i=n(3),s=n(16),c=n(1),l=n(7),d=n(2),u=n(13),p=n(14),m=n(21),f=n(28),g=n(36),y=n(137),h=n(17);let b;class v{constructor(){if(this.dictionary=[{key:"uid",humanKey:"visitorID",value:"",typeCast:t=>String(t)},{key:"fst",humanKey:"firstSessionTimestamp",value:0,typeCast:t=>Number(t)},{key:"pst",humanKey:"previousSessionTimestamp",value:-1,typeCast:t=>Number(t)},{key:"cst",humanKey:"currentSessionTimestamp",value:0,typeCast:t=>Number(t)},{key:"ns",humanKey:"numberOfSessions",value:0,typeCast:t=>Number(t)},{key:"pvt",humanKey:"pagesViewedTotal",value:0,typeCast:t=>Number(t)},{key:"pvis",humanKey:"pagesViewedInSession",value:0,typeCast:t=>Number(t)},{key:"th",humanKey:"testsHistory",value:{},typeCast:this.deserializeTestsHistory}],b)return b;const{customCookieDomain:t,customCookiePath:e}=i.getAccountSettings(),n=new s.ABTastySessionCookie;this.name=v.getCookieName(),this.customDomain=t,this.customPath=e,window.ABTasty.clearCookie=this.clear.bind(this),window.ABTasty.clearAllCookies=()=>{this.clear(),n.clear()},b=this,i.getCrossDomainSettings().length>0&&this.matchUrlSettings()?y.fetchCrossDomain().then(t=>{this.setUp(n,t||null)}):this.setUp(n)}setUp(t,e=null){let n=e;null!=e&&""!==e.trim()||(n=(new p.ABTastyLocalStorage).getFromLocalStorage(this.name),null===n&&(n=r.get(this.name))),n?this.load(n):(this.assureVisitorId(),t.clear(),t.save()),v.cookieReady=!0}static getCookieName(){return"ABTasty"}matchUrlSettings(){return i.getCrossDomainSettings().some(({includeOrExclude:t,url:e,method:n})=>"exclude"!==t&&u.matchWithCond(n,e))}get(t){return this.dictionary.find(e=>e.key===t||e.humanKey===t)}set(t,e,n=null){null==n?this.get(t).value=e:this.get(t).value[n]=e}incr(t,e){const n=this.get(t);n.value=n.value+e}resetDictionary(){this.dictionary.forEach(t=>{t.value=t.typeCast("")})}load(t){try{t.split("&").map(t=>t.split("=")).forEach(([t,e])=>{this.set(t,this.get(t).typeCast(decodeURI(e)))}),this.removePausedTests()}catch(t){d.captureException(new Error(`Error loading the cookie. ${t}`)),this.resetDictionary()}}removePausedTests(){let t=i.getAccountData();if(!t||!t.obsoletes)return[];let e=[];return Object.keys(this.get("testsHistory").value).forEach(n=>{t.obsoletes.includes(parseInt(n))&&(this.removeCampaign(n),e.push(parseInt(n)))}),e.length&&this.save(),e}getVisitorId(){return this.get("visitorID").value}getCampaignHistory(){const t=this.getCampaigns(),e={};return Object.keys(t).filter(t=>null!=i.getAccountData().tests[t]).map(n=>{const a=h.Campaign.instanciate(n);return a&&a.isMultipageChild()&&(e[a.getParentId()]=String(a.getMasterVariationId(t[n].variationID))),e[n]=String(t[n].variationID)}),e}getCampaign(t){return this.get("testsHistory").value[t]}getCampaigns(){return this.get("testsHistory").value}setCampaign(t,e){this.set("testsHistory",e,t)}removeCampaign(t){delete this.get("testsHistory").value[t]}getFirstSessionTimestamp(){return this.get("firstSessionTimestamp").value}getCurrentSessionTimestamp(){return this.get("currentSessionTimestamp").value}getPreviousSessionTimestamp(){return this.get("previousSessionTimestamp").value}getNumberOfSessions(){return this.get("numberOfSessions").value}getPagesViewedInSession(){return this.get("pagesViewedInSession").value}hasSeenCampaign(t,e){const n=this.getCampaign(t);return!!n&&(e?n.variationID===e:-1!==n.variationID)}isValid(t){return/^uid=.*&fst=[0-9]{13,}&pst=(-1|[0-9]{13,})&cst=[0-9]{13,}&ns=[0-9]\d*&pvt=[1-9]\d*&pvis=[1-9]\d*&th=(\d+\.(-1|\d)+\.[1-9]\d*\.[0-9]\d*\.[1-9]\d*\.[1|0]\.[0-9]{13,}\.[0-9]{13,}\.[1|0]_?)*$/.test(t)}getConfig(){return{expires:388,path:this.customPath,domain:null===this.customDomain?u.getCookieDomain():this.customDomain,secure:i.getAccountSettings().isSecureCookie||!1}}clear(t=null){t===g.STORAGE_MODE_LOCALSTORAGE||l.isNil(t)&&g.isLocalStorageMode()?(new p.ABTastyLocalStorage).removeLocalStorage(this.name):r.remove(this.name,this.getConfig())}static resetInstance(){b=null}encodeValue(t){return null!=t&&"object"==typeof t?this.serializeTestsHistory(t):encodeURI(t)}save(){if(!v.cookieReady)return;const t=this.dictionary.map(t=>[`${t.key}=${this.encodeValue(t.value)}`]).join("&");if(this.isValid(t)){if(!m.isCnilReady())return l.isNil(window.ABTasty.temporaryCookieValues)&&(window.ABTasty.temporaryCookieValues={}),void(window.ABTasty.temporaryCookieValues[this.name]={value:t,config:this.getConfig()});const e=g.isLocalStorageMode();e?(new p.ABTastyLocalStorage).updateLocalStorage(this.name,t):r.set(this.name,t,this.getConfig()),f.matchITPCondition()?e||(new p.ABTastyLocalStorage).updateLocalStorage(this.name,t):this.clear(e?g.STORAGE_MODE_COOKIES:g.STORAGE_MODE_LOCALSTORAGE),c.success(`Saving datas to ${e?"localStorage":"cookie"}`,t)}else d.captureException(new Error(`Error saving the ABTasty's datas. Invalid cookie or localStorage. Serialized: ${t}`)),c.error("Cookie cannot be saved, incorrect value",t)}isFirstSession(){return 0===this.get("numberOfSessions").value}pageView(){const t=new s.ABTastySessionCookie,e=new p.ABTastyLocalStorage;this.incr("pagesViewedTotal",1);const n=Date.now();t.isNewSession?(this.isFirstSession()?(this.set("firstSessionTimestamp",n),this.assureVisitorId()):this.set("previousSessionTimestamp",this.get("currentSessionTimestamp").value),this.set("currentSessionTimestamp",n),this.incr("numberOfSessions",1),this.incr("pagesViewedInSession",1)):(this.incr("pagesViewedInSession",1),0===this.getFirstSessionTimestamp()&&this.set("firstSessionTimestamp",n),0===this.getCurrentSessionTimestamp()&&this.set("currentSessionTimestamp",n)),e.addVisitedPage(),this.save()}assureVisitorId(){this.getVisitorId()||this.set("visitorID",o.generateId())}campaignView(t,e){const n=new s.ABTastySessionCookie,a=this.getCampaign(t);a?this.setCampaign(t,{variationID:e,nbSeenTotal:a.nbSeenTotal+1,nbSeenInSession:n.isNewSession?1:a.nbSeenInSession+1,nbSessions:n.isNewSession?a.nbSessions+1:a.nbSessions,currentlyApplied:1,firstViewTimestamp:a.firstViewTimestamp,lastViewTimestamp:Date.now(),oneVisitorOneTest:1}):this.setCampaign(t,{variationID:e,nbSeenTotal:1,nbSeenInSession:1,nbSessions:1,currentlyApplied:1,firstViewTimestamp:Date.now(),lastViewTimestamp:Date.now(),oneVisitorOneTest:1}),this.save()}serializeTestsHistory(t){return Object.keys(t).map(e=>{const n=t[e];return[e,n.variationID,n.nbSeenTotal,n.nbSeenInSession,n.nbSessions,n.currentlyApplied,n.firstViewTimestamp,n.lastViewTimestamp,n.oneVisitorOneTest]}).map(l.join(".")).join("_")}deserializeTestsHistory(t){return t.split("_").filter(t=>!l.isEmpty(t)).map(l.split(".")).reduce((t,e)=>(t[Number(e[0])]={variationID:Number(e[1]),nbSeenTotal:Number(e[2]),nbSeenInSession:Number(e[3]),nbSessions:Number(e[4]),currentlyApplied:Number(e[5]),firstViewTimestamp:Number(e[6]),lastViewTimestamp:Number(e[7]),oneVisitorOneTest:Number(e[8])},t),{})}}e.ABTastyCookie=v},function(t,e,n){var a,o;!function(r){if(void 0===(o="function"==typeof(a=r)?a.call(e,n,e,t):a)||(t.exports=o),!0,t.exports=r(),!!0){var i=window.Cookies,s=window.Cookies=r();s.noConflict=function(){return window.Cookies=i,s}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var a in n)e[a]=n[a]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(a){function o(){}function r(e,n,r){if("undefined"!=typeof document){"number"==typeof(r=t({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(t){}n=a.write?a.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in r)r[c]&&(s+="; "+c,!0!==r[c]&&(s+="="+r[c].split(";")[0]));return document.cookie=e+"="+n+s}}function i(t,n){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],i=0;i<r.length;i++){var s=r[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=e(s[0]);if(c=(a.read||a)(c,l)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[l]=c,t===l)break}catch(t){}}return t?o[t]:o}}return o.set=r,o.get=function(t){return i(t,!1)},o.getJSON=function(t){return i(t,!0)},o.remove=function(e,n){r(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(1)),r=n(14),i=a(n(10)),s=n(21),c=n(20);let l=[];e.hit=function t(e,n=!1,a,o="https://ariane.abtasty.com"){i.get("ABTasty")||(new r.ABTastyLocalStorage).getFromLocalStorage("ABTasty")||!s.shouldWaitForCnil()||s.isCnilReady()?!window.fetch||n||a?function(t,e=!0,n,a){const o=new XMLHttpRequest;o.open("POST",n,e),o.setRequestHeader("Content-type","text/plain"),a&&(o.setRequestHeader("X-ABTasty-CrossDomain",a),o.withCredentials=!0);o.send(JSON.stringify(t))}(e,!n,o,a):fetch(o,{mode:"no-cors",method:"POST",headers:{"Content-type":"text/plain","X-ABTasty-CrossDomain":a},body:JSON.stringify(e)}):(0===l.length&&c.doWhen(s.isCnilReady,()=>{l.forEach(e=>{t(e.args,e.sync,e.cookie,e.endpoint)}),l=[]},100),l.push({args:e,sync:n,cookie:a,endpoint:o}))},e.hitError=function(t,e,n){o.warning(`AB Tasty warning: '${t}' hit cannot be sent, format is not correct.`,...e,n)}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=n(11),r=n(6),i=n(118),s=n(36),c=n(3),l=a(n(10));let d,u=[];function p(){d&&"number"==typeof d&&clearTimeout(d),d=setTimeout(()=>{m()},500)}function m(t=!1){if(!u||!u.length)return;u.map(t=>{t.qt=Date.now()-t.qt});const e=Object.assign(Object.assign({},i.getCommonProperties()),{h:u,t:r.HIT_TYPES.batch}),n=l.get("ABTasty"),a=c.getCrossDomainSettings().length>0&&s.isCookieStorageMode()&&n?`${n}&cid=${c.getAccountIdentifier()}`:"";o.hit(e,t,a),u=[]}e.aggregateHit=function(t){u.push(t),p(),JSON.stringify(u).length>=40960&&m()},e.resetBatchTimeout=p,e.dispatchBatch=m},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(1)),r=n(2),i=n(7);function s(t,e=document.location.href){return i.pipe(i.match(t),i.ifElse(i.isNil,()=>"",i.last),i.split("&"),i.reject(i.isEmpty),i.map(i.split("=")),i.fromPairs)(e)}function c(t=document.location.href){return s(/\?([^#]+)/,t)}function l(t=document.location.href){return s(/#([^?]+)/,t)}function d(){const{protocol:t,hostname:e,port:n,pathname:a}=document.location;return`${t}//${e}${""===n?"":n}${a}`}function u(t,e=!0){return i.pipe(t=>t.match(/\?([^#]+)/),i.ifElse(i.isNil,()=>"",t=>t[t.length-1]),i.split("&"),i.reject(i.isEmpty),i.map(i.split("=")),i.ifElse(()=>e,i.fromPairs,t=>t))(t)}function p(t=document.location.href){return i.pipe(t=>t.match(/#([^?]+)/),i.ifElse(i.isNil,()=>"",t=>t[t.length-1]),i.split("&"),i.reject(i.isEmpty),i.map(i.split("=")),i.fromPairs)(t)}function m(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function f(t){const e="tastypreprod";return i.pipe(t=>t.replace(`#${e}&`,"#"),t=>t.replace(`#${e}`,""),t=>t.replace(`&${e}&`,"&"),t=>t.replace(`&${e}`,""),t=>t.replace(`?${e}&`,"?"),t=>t.replace(`?${e}`,""))(t)}e.urlSplit=s,e.getUrlWithoutHash=function(t=document.location.href){return t.replace(/#([^?]+)/,"")},e.getCookieDomain=function(){const t=document.location.href,e="ABTastyDomainTest=true",n=i.pipe(t=>t.replace(/(https?\:\/\/)([^\/]+).*/,"$2"),i.split("."),t=>t.reverse(),t=>t.map((e,n)=>`.${t.reduce((t,e,a)=>a<=n?`${e}.${t}`:`${t}`)}`),t=>t.find(t=>(document.cookie=`${e};domain=${t};`,-1!==document.cookie.indexOf(e))))(t);return document.cookie=`${e};expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=${n};`,n},e.getUrlHostName=function(t=document.location.href){return t?i.pipe(t=>t.replace("http://",""),t=>t.replace("https://",""),i.split("/"))(t)[0]:t},e.getUrlProtocol=function(){return`${document.location.protocol}//`},e.getUrlParameters=c,e.getUrlHashVars=l,e.getUrlParameter=function(t,e=document.location.href){return i.pipe(c,i.prop(t))(e)},e.getUrlWithoutParameters=d,e.getHashVar=function(t,e=document.location.href){return i.pipe(l,i.prop(t))(e)},e.getVar=function(t,e=document.location.href){return i.pipe(u,i.prop(t))(e)},e.addUrlParameter=function(t,e,n){const a=new URL(n),o=""===a.search?"?":"&";return a.search+=`${o}${t}=${e}`,a.href},e.getVars=u,e.getHashVars=p,e.addAnalyticsVarsToRedirUrl=function(t){if(null==t||""===t)return"";const e=t.includes("?")?"&":"?",n=u(t),a=u(document.location.href,!1),o=["gclid","cid","utm_source","utm_medium","utm_campaign","utm_term","utm_content","xtor","xts","xtdt","cm_mmc","MKZOID"],r=i.pipe(i.filter(([t])=>!n[t]&&o.includes(t)),i.map(([t,e])=>`${t}=${e}`))(a);return 0===r.length?t:t+e+r.join("&")},e.transferVarsToRedirUrl=function(t,e=document.location.href){if(!t.includes("?")&&!e.includes("?"))return t;const n=u(t),a=u(e),o=`?${m(Object.assign({},a,n))}`,r=t.includes("#")?`#${m(p(t))}`:"",i=function(t){return t.includes("?")?t.indexOf("?"):t.includes("#")?t.indexOf("#"):t.length}(t);return`${t.slice(0,i)}${o}${r}`},e.matchWithCond=function(t,e,n){let a;switch(t){case"simplematch":case"ignore_parameters":return a=n?f(n):i.pipe(d,f)(""),e===a||`${e}/`===a;case"exact":case"equals":return a=f(n||document.location.href),e===a||`${e}/`===a;case"substring":case"contains":return a=f(n||document.location.href),-1!==a.indexOf(e);case"regex":case"regexp":a=f(n||document.location.href);try{return new RegExp(e,"i").test(a)}catch(t){const n=`The url check used an invalid regular expression => ${e}`;return r.captureException(new Error(n)),o.error(n,t),!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(9),o=n(7),r=n(20);e.ABTastyLocalStorage=class{constructor(){}getABTastyData(){return JSON.parse(this.getFromLocalStorage("ABTastyData"))||{}}getItemFromABTastyData(t){return this.getABTastyData()[t]}getActionTrackings(){return this.getABTastyData()&&this.getABTastyData().ActionTracking}addActionTracking(t){this.addItemToABTastyData("ActionTracking",t)}getTransactions(){return this.getABTastyData()&&this.getABTastyData().transactions}addTransaction(t){this.addItemToABTastyData("transactions",t)}getItems(){return this.getABTastyData()&&this.getABTastyData().items}addItem(t){this.addItemToABTastyData("items",t)}addSegment(t){this.addItemToABTastyData("segments",t)}getCustomVariables(){return this.getABTastyData()&&this.getABTastyData().CV}addCustomVariable(t){this.addItemToABTastyData("CV",t)}getVisitedPages(){return this.getABTastyData()&&this.getABTastyData().VisitedPages}editLastVisitedPage(t){const e=this.getVisitedPages();if(o.isEmpty(e))return;const n=e[e.length-1];e[e.length-1]=Object.assign(Object.assign({},n),t);const a=this.getABTastyData();this.updateLocalStorage("ABTastyData",JSON.stringify(Object.assign(Object.assign({},a),{VisitedPages:e})))}addVisitedPage(t=document.location.href,e=document.title){const n={url:t,visite:(new a.ABTastyCookie).getNumberOfSessions(),time:Date.now(),title:e};this.addItemToABTastyData("VisitedPages",n),o.isEmpty(e)&&r.doWhen(()=>!o.isEmpty(document.title),()=>this.editLastVisitedPage({title:document.title}))}addItemToABTastyData(t,e){const n=this.getABTastyData();n[t]&&Array.isArray(n[t])||(n[t]=[]),n[t].push(e),this.updateLocalStorage("ABTastyData",JSON.stringify(n))}updateLocalStorage(t,e){return localStorage.setItem(t,e)}getFromLocalStorage(t){return localStorage.getItem(t)||null}removeLocalStorage(t){return localStorage.removeItem(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(6);e.valueError=function(t,e,n){return`Argument '${t}' value is incorrect. Expected one of ${n.map(t=>`"${t}"`).join(", ")}, received ${e}`};const o={t:{label:"Hit Type",required:!0,type:"string",allowedValues:Object.values(a.HIT_TYPES)},sen:{label:"Session Event Number",required:!0,type:"number"},tecp:{label:"Target Element CSS Path",required:!1,type:"string"},cp:{label:"Cursor Position",required:!1,type:"string"},teid:{label:"Target Element ID",required:!1,type:"string"},tc:{label:"Target Element Classname",required:!1,type:"string"},otbe:{label:"Over Time Before Event",required:!1,type:"number"},tes:{label:"Target Element Size",required:!1,type:"string"},tep:{label:"Target Element Position",required:!1,type:"string"},tcec:{label:"Target Child Element Count",required:!1,type:"number"},tet:{label:"Target Element Tagname",required:!1,type:"string"},esp:{label:"Event Scroll Percent",required:!1,type:"number"}};e.checkArguments=function(t,e){const n=Object.assign(Object.assign({},o),e);return Object.keys(n).reduce((e,a)=>{const o=n[a];if(o){const{label:n,required:r,types:i,maxLength:s,allowedValues:c}=o,l=t[a],d=typeof l;if(!r||null!=l&&0!==l.length){if(l&&i&&i.length>0){const t=i.map(t=>{switch(t.toLowerCase()){case"array":if(!Array.isArray(l))return`Argument '${a}' (${n}) is of wrong type ${d} (expected array)`;break;case"object":if(d!==t)return`Argument '${a}' (${n}) is of wrong type ${d} (expected ${t})`;if(Array.isArray(l))return`Argument '${a}' (${n}) is of wrong type array (expected ${t})`;break;default:if(d!==t)return`Argument '${a}' (${n}) is of wrong type ${d} (expected ${t})`}});t.every(t=>t&&t.length>0)&&t.forEach(t=>e.push(t))}}else e.push(`Argument '${a}' (${n}) is missing`);if(null!=l&&c&&-1===c.indexOf(l)){const t=c.map(t=>`"${t}"`).join(", ");e.push(`Argument '${a}' (${n}) value is not allowed (expected one of ${t}, received ${l})`)}null!=l&&s&&l.length>s&&e.push(`Argument '${a}' (${n}) is too long (length of ${l.length}, expected ${s})`)}return e},[])}},function(t,e,n){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(10)),r=n(7),i=n(3),s=n(1),c=n(2),l=n(13),d=n(21);let u;class p{constructor(t=!1){if(this.dictionary=[{key:"mrasn",value:"",typeCast:t=>String(t)},{key:"referrer",value:document.referrer,typeCast:t=>String(t)},{key:"lp",value:document.location.href,typeCast:t=>String(t)},{key:"sen",value:-1,typeCast:t=>parseInt(t,10)}],u&&!t)return u;const{customCookieDomain:e,customCookiePath:n}=i.getAccountSettings();this.name=p.getCookieName(),this.customDomain=e,this.customPath=n;const a=o.default.get(this.name);return a?(this.isNewSession=!1,this.load(a)):(this.isNewSession=!0,this.setLandingPage(document.location.href)),u=this,window.ABTasty.clearSessionCookie=this.clear.bind(this),this.save(),u}static getCookieName(){return"ABTastySession"}get(t){return this.dictionary.find(e=>e.key===t)}set(t,e){this.get(t).value=e,this.save()}incr(t,e){const n=this.get(t);n.value=n.value+e,this.save()}resetDictionary(){this.dictionary.forEach(t=>{t.value=t.typeCast("")})}load(t){try{const e=new RegExp(this.dictionary.map(t=>`(${t.key}=.*)`).join("&"));t.match(e).slice(1).map((t,e)=>{const n=new RegExp(`(${this.dictionary[e].key})=(.*)`);return t.match(n).slice(1)}).forEach(([t,e])=>{this.set(t,this.get(t).typeCast(decodeURI(e)))})}catch(t){c.captureException(new Error(`Error loading the session cookie. ${t}`)),this.resetDictionary(),this.isNewSession=!0}}save(){const t=this.dictionary.map(t=>[`${t.key}=${encodeURI(t.value)}`]).join("&");if(this.isValid(t)){if(!d.isCnilReady())return r.isNil(window.ABTasty.temporaryCookieValues)&&(window.ABTasty.temporaryCookieValues={}),void(window.ABTasty.temporaryCookieValues[this.name]={value:t,config:this.getConfig()});o.default.set(this.name,t,this.getConfig())}else c.captureException(new Error(`Error saving the session cookie. Invalid cookie. Serialized: ${t}`)),s.error("Session cookie cannot be saved, incorrect value",t)}clear(){o.default.remove(this.name,this.getConfig())}isValid(t){return!0}getConfig(){return{expires:new Date((new Date).getTime()+18e5),path:this.customPath,domain:null===this.customDomain?l.getCookieDomain():this.customDomain,secure:i.getAccountSettings().isSecureCookie||!1}}setMrasn(t){this.set("mrasn",t)}getMrasn(){return this.get("mrasn").value}setLandingPage(t){this.set("lp",t)}getLandingPage(){return this.get("lp").value}getReferrer(){return this.get("referrer").value}getSen(){return this.get("sen").value}incrementSen(){this.incr("sen",1)}}e.ABTastySessionCookie=p},function(t,e,n){"use strict";var a=this&&this.__rest||function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]])}return n},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const r=n(3),i=n(7),s=n(88),c=n(89),l=n(1),d=n(20),u=n(9),p=n(115),m=n(44),f=n(116),g=n(26),y=n(6),h=n(29),b=n(23),v=n(18),_=n(127),w=n(21),S=n(129),T=n(22),A=o(n(46)),O=n(19),C=n(35),x=n(31),E=n(40),P=n(136),k={id:0,name:"Original",masterVariationId:0},B={},I=t=>B[t],D=[];class M{constructor(t){const{id:e}=t;if(I(e))return I(e);this.data=t,B[e]=this,this.initPublicData()}getType(){return this.data.type}getChildren(){return this.data.children}getId(){return this.data.id}getName(){return this.data.name}getChosenVariation(){return this.chosenVariation}static instanciate(t){const e=M.getCampaignData(t);if(e)return new M(e)}static getActiveCampaigns(t=null){return i.pipe(i.pickBy(({status:e,variationID:n},a)=>(null!==t&&t===Number(a)||null===t)&&"accepted"===e&&null!==n&&-1!==n),i.mapObjIndexed((t,e)=>Object.assign(Object.assign({},t),{testDatas:I(e).data})))(window.ABTasty.results)}static getCampaignData(t){return r.getAccountData().tests[t]}static getCampaignsDatas(t){const e=(t||r.getAccountData()).tests,{global:n}=e,o=a(e,["global"]);return Object.values(o)}static getGlobalCampaignsInfos(t){const e=(t||r.getAccountData()).tests,{global:n}=e;a(e,["global"]);return n}getVariation(t){return 0===t?k:this.data.variations[t]}getVariationByMasterId(t){return Object.values(this.data.variations).find(e=>e.masterVariationId===t)}getMasterVariationId(t){return this.getVariation(t).masterVariationId}getParent(){const t=M.getCampaignData(this.data.parentID);return new M(t)}getParentId(){return this.getParent().data.id}getStatus(){return this.data.status||"pending"}getSeenBrothers(){const{parentID:t,siblings:e}=this.data;if(0===t||null==e||0===e.length)return null;const n=new u.ABTastyCookie;return e.map(t=>{const e=n.getCampaign(t);return e?Object.assign({campaignId:t},e):null}).filter(t=>!i.isNil(t))}setStatus(t){this.data.status=t,i.isNil(window.ABTasty.results[this.data.id])&&this.initPublicData(),window.ABTasty.results[this.data.id].status=t}isContainer(){return["multipage","multivariate","mastersegment"].includes(this.data.type)}isMultivariate(){return"multivariate"===this.data.type}isMultipage(){return"multipage"===this.data.type}isPersonalisation(){return"mastersegment"===this.data.type}isMultivariateChild(){if(0===this.data.parentID)return!1;return M.instanciate(this.data.parentID).isMultivariate()}isMultipageChild(){if(0===this.data.parentID)return!1;return M.instanciate(this.data.parentID).isMultipage()}isPersonalisationChild(){if(0===this.data.parentID)return!1;return M.instanciate(this.data.parentID).isPersonalisation()}isDynamicAllocation(){return null!=this.data.dynamicTrafficGoalId&&""!==this.data.dynamicTrafficGoalId}needsOldDCInfos(){return this.isDynamicAllocation()}async waitForTargetingAvailability(){const{audience:t,id:e}=this.data;this.needsOldDCInfos()&&null==h.getDcInfos()&&await d.waitFor(()=>null!=h.getDcInfos()),_.audienceNeedsGeoloc(e)&&await d.waitFor(()=>null!=b.getGeoloc()),_.audienceNeedsUserAgentParser(e)&&await d.waitFor(()=>null!=v.getParsedUserAgent()),_.audienceNeedsAdblockTargeting(e)&&await w.detectAdBlock()}isTargetByEvent(){return Boolean(this.data.scopes.urlScope.find(({value:t})=>t===O.ALL_EVENTS_VALUE))}alreadySeenOneTest(t){let e=!1;const n=(new u.ABTastyCookie).getCampaigns();return Object.keys(n).forEach(a=>{const o=r.getAccountCampaign(Number(a)),i=n[a];null!=o&&null==o.type.match(/(mastersegment|subsegment)/)&&1===i.oneVisitorOneTest&&Number(a)!==t&&-1!==i.variationID&&(e=!0)}),e}initPublicData(){const{id:t,name:e,type:n,status:a}=this.data,o={name:e,type:n,status:a,variationID:this.chosenVariation,variationName:null,targetings:{[O.QA_MODE_NAME]:{},[O.TARGET_PAGES_NAME]:{},[O.AUDIENCE_NAME]:{}}};window.ABTasty.results[t]=i.propOr(o,t,window.ABTasty.results)}static updatePublicTargetingData(t,e,n,a="audience"){const o=window.ABTasty.results[t];void 0!==o&&e&&(o.targetings[a][e.targeting_type]=o.targetings[a][e.targeting_type]||{},o.targetings[a][e.targeting_type].conditions=e.conditions,o.targetings[a][e.targeting_type].success=n,"audience"===a&&(o.targetings[a][e.targeting_type].operator=e.operator,o.targetings[a][e.targeting_type].name=Object.keys(A).find(t=>A[t]===e.targeting_type)),window.ABTasty.results[t]=o)}updatePublicData({id:t,name:e}){window.ABTasty.results[this.data.id].variationID=t,window.ABTasty.results[this.data.id].variationName=e}hasSeenMaster(){const{parentID:t}=this.data;if(0===t)return null;const e=new u.ABTastyCookie;return!i.isNil(e.getCampaign(t))}hasMultivariateSibling(){const{id:t,parentID:e,siblings:n}=this.data;if(0===e)return!1;if(null==n||0===n.length)return!1;const a=(new u.ABTastyCookie).getCampaigns();return Object.keys(a).some(e=>Number(e)===t)}hasBrotherAlreadyStarted(){const{parentID:t,siblings:e}=this.data;return 0!==t&&(null!=e&&0!==e.length&&e.find(t=>{const e=M.instanciate(t);return"currently_checking"===e.getStatus()&&e.data.priority<this.data.priority?(this.startPendingMode(),!0):"accepted"===e.getStatus()}))}hasAlreadySeenBrothers(){const t=this.getSeenBrothers();return!i.isNil(t)&&!i.isEmpty(t)}isCheckingOtherCampaigns(){if(this.isPersonalisation()||this.isPersonalisationChild())return!1;return M.getCampaignsDatas().filter(({id:t})=>{const e=I(t);return t!==this.data.id&&!i.isNil(e)&&(!(e.isPersonalisation()||e.isMultipage()||e.isMultivariate())&&t!==this.data.id&&"currently_checking"===e.getStatus())}).map(({id:t})=>t).length>0}isOneVisitorOneTestDone(){const{oneVisitorOneTest:t}=r.getAccountSettings(),{id:e,type:n,parentID:a}=this.data;if(t&&"subsegment"!==n){let t=e;if("ab"===n&&this.isMultipageChild()&&(t=a),this.alreadySeenOneTest(t)&&!this.hasMultivariateSibling())return!0}return!1}startPendingMode(){const t=setTimeout(()=>this.apply(),16);T.registerTimeout(`targetingLoop_${this.data.id}`,t)}static abTastyStartTest(t,e=null){const n=I(t);if(void 0!==n){if(e<0)return void n.setStatus("traffic_rejected");const a=new u.ABTastyCookie,o=a.getCampaign(t);!i.isNil(e)&&i.isNil(o)&&a.campaignView(t,e),n.launchCampaign()}}launchCampaign(){const{id:t,parentID:e,name:n,globalCode:a,variations:o,widgets:r,analytics:d,actionTrackings:h}=this.data;C.wasRedirectedBy(t)?this.setStatus("accepted_by_redirection"):this.setStatus("accepted");const b=new u.ABTastyCookie,v=b.getCampaign(t);let _=null;if(this.isMultipageChild()&&this.hasAlreadySeenBrothers()){const t=this.getSeenBrothers()[0],{masterVariationId:e}=I(t.campaignId).getVariation(t.variationID);_=i.isNil(e)||0===e?0:this.getVariationByMasterId(e).id}else if(this.isMultipageChild()&&this.hasSeenMaster()){const t=b.getCampaign(e);_=0!==t.variationID?this.getVariationByMasterId(t.variationID).id:0,b.removeCampaign(e)}else _=v?v.variationID:s.allocateTraffic(o,t,this.isDynamicAllocation());l.info("Campaign Viewed =",t,_),b.campaignView(t,_),_>=0?(g.dispatchHit(y.HIT_TYPES.campaign,{caid:String(t),vaid:String(_)}),0===_||C.wasRedirectedBy(t)||(this.chosenVariation=new c.Variation(t,o[_]),this.chosenVariation.apply()),x.domReady(()=>{m.applyWidgets(r,t);const e=`${t}testGlobalCode`;window.performance&&window.performance.mark&&window.performance.mark(`${e}Start`),E.applyCustomScript(a),window.performance&&window.performance.mark&&(window.performance.mark(`${e}Stop`),window.performance.measure(e,`${e}Start`,`${e}Stop`),window.ABTasty.latency.gct=window.ABTasty.latency.gct||{},window.ABTasty.latency.gct[t]=Math.round(window.performance.getEntriesByName(e,"measure")[0].duration)),f.applyActionTrackings(h,t);const o=this.getVariation(_),i=`${t}testAnalytics`;window.performance&&window.performance.mark&&window.performance.mark(`${i}Start`),p.applyAnalytics(d,{campaignName:n,campaignId:t,variationName:o.name,variationId:o.id}),window.performance&&window.performance.mark&&(window.performance.mark(`${i}Stop`),window.performance.measure(i,`${i}Start`,`${i}Stop`),window.ABTasty.latency.all=window.ABTasty.latency.all||{},window.ABTasty.latency.all[t]=Math.round(window.performance.getEntriesByName(i,"measure")[0].duration)),this.updatePublicData(o)})):this.setStatus("traffic_rejected")}isUseDatalayer(t){for(let e in t.targeting_groups)for(let n in t.targeting_groups[e].targetings)if(t.targeting_groups[e].targetings[n].targeting_type==P.DATALAYER)return!0;return!1}async apply(){const{id:t,targetingMode:e,audience:n,scopes:a,type:o}=this.data,{oneVisitorOneTest:i}=r.getAccountSettings();if(i&&this.isCheckingOtherCampaigns())return void this.startPendingMode();if(this.setStatus("currently_checking"),this.isTargetByEvent())return void this.setStatus("target_by_event_pending");if("subsegment"===o&&this.hasBrotherAlreadyStarted())return void this.setStatus("another_subsegment_already_started");if(this.isOneVisitorOneTestDone())return void this.setStatus("one_visitor_one_test");await this.waitForTargetingAvailability(),window.performance&&window.performance.mark&&-1===D.indexOf(t)&&(D.push(t),window.performance.mark(`${t}VerifyTargetingStart`));const s=S.checkPageURL(a,this.data),c=!!s&&S.checkTargetPages(a,this.data),d=!!c&&S.checkQaParameters(a,this.data),u=()=>{window.performance&&window.performance.mark&&-1!==D.indexOf(t)&&!this.performanceMeasured&&(this.performanceMeasured=!0,window.performance.mark(`${t}VerifyTargetingStop`),window.performance.measure(`${t}VerifyTargeting`,`${t}VerifyTargetingStart`,`${t}VerifyTargetingStop`),window.ABTasty.latency.tgl=window.ABTasty.latency.tgl||{},window.ABTasty.latency.tgl[t]=Math.round(window.performance.getEntriesByName(`${t}VerifyTargeting`,"measure")[0].duration))};!!d&&_.checkAudience(n,this.data)||C.wasRedirectedBy(t)?(l.success(`Targeting OK (campaign ${t})`),u(),this.launchCampaign()):!s||"waituntil"!==e&&x.domReady()?(u(),l.info("Targeting rejected."),s&&c?d?this.setStatus("audience_rejected"):this.setStatus("qa_parameters_rejected"):this.setStatus("target_pages_rejected")):(l.info("Targeting loop."),this.setStatus("pending"),this.startPendingMode())}}e.Campaign=M,M.getParentCampaignsIDs=t=>{const e=t||r.getAccountData();return i.pipe(M.getCampaignsDatas,i.filter(i.propEq("parentID",0)),i.pluck("id"))(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(30),o=n(2),r=n(22),i={TIMEOUT:3e3,ROUTE:"//dcinfos-cache.abtasty.com/v1/ua-parser"};function s(){sessionStorage.setItem("ABTastyUA","")}function c(){try{return JSON.parse(sessionStorage.getItem("ABTastyUA"))}catch(t){return void o.captureException(new Error(`Error parsing userAgentParser: ${t}`))}}e.fetchUserAgentParser=function(){if(null!=c())return;window.performance&&window.performance.mark&&window.performance.mark("userAgentStart"),a.post(i.ROUTE,{ua:navigator.userAgent}).then(t=>t.json()).then(t=>{sessionStorage.setItem("ABTastyUA",JSON.stringify(t)),window.performance&&window.performance.mark&&(window.performance.mark("userAgentEnd"),window.performance.measure("userAgentTiming","userAgentStart","userAgentEnd"),window.ABTasty.latency.userAgentTiming=window.performance.getEntriesByName("userAgentTiming")[0].duration)}).catch(t=>{s(),o.captureException(new Error(`Error while fetching userAgentParser data: ${t}`))});const t=setTimeout(()=>{null==c()&&s()},i.TIMEOUT);r.registerTimeout("userAgentFetchLoop",t)},e.getParsedUserAgent=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TAG_VERSION="3.0",e.SEMVER=null,e.RESET_TRACKING_EVENT="abtasty_resetActionTracking",e.TARGET_PAGES_NAME="targetPages",e.QA_MODE_NAME="qaParameters",e.AUDIENCE_NAME="audience",e.ALL_EVENTS_VALUE="$^"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(1);e.doWhen=function t(e,n,a=100){!0===e()?n():setTimeout(()=>{t(e,n,a)},a)},e.waitFor=function(t,e=16){return new Promise(n=>{const a=()=>t()?n(!0):setTimeout(a,e);a()})},e.jsonp=function(t=null){try{if(null===t)return;const e=document.createElement("script");e.src=t,document.getElementsByTagName("head")[0].insertBefore(e,document.getElementsByTagName("head")[0].firstChild)}catch(t){a.error("Error during jsonp call",t)}},e.setSecureItem=function(t,e,n,a){try{"sessionStorage"===t?sessionStorage.setItem(e,n):localStorage.setItem(e,n)}catch(t){a&&a()}}},function(t,e,n){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(10)),r=n(13),i=n(27),s=n(22),c=n(9),l=n(16),d=n(3);function u(){return d.getAccountSettings().waitForCnil}function p(){return window.ABTasty.cnilReady}e.isObsoleteBrowser=function(t=window.navigator.userAgent){return/MSIE [678]/.test(t)},e.getUserLanguage=function(){return navigator.language.substring(0,2)||"en"},e.detectAdBlock=function(){return new Promise(t=>{if(null!=window.ABTasty.ADBlockEnabled)return;window.performance&&window.performance.mark&&window.performance.mark("adblockStart");const e=setTimeout(()=>{void 0!==window.ABTasty.ADBlockEnabled&&(window.ABTasty.AdBlockDetectionFailed=!0,t("AbBlock detection failed"))},2e3);s.registerTimeout("adblockDetectionLoop",e);let n=!1;function a(){window.performance&&window.performance.mark&&(window.performance.mark("abblockEnd"),window.performance.measure("adblockTiming","adblockStart","abblockEnd"),window.ABTasty.latency.adblockTiming=window.performance.getEntriesByName("adblockTiming")[0].duration)}const o=`${r.getUrlProtocol()}try.abtasty.com/advertisement.js`,c=i.appendScript(o,(function(){window.ABTasty.ADBlockEnabled=!1,a(),t("AdBlock is disabled")}));c.async=!1,c.onerror=function(){n||(n=!0,window.ABTasty.ADBlockEnabled=!0,a(),t("AdBlock is enabled"))}})},e.shouldWaitForCnil=u,e.isCnilReady=p,e.listenForCnilCompliency=function(){if(p()||!u()||o.default.get(c.ABTastyCookie.getCookieName())||o.default.get(l.ABTastySessionCookie.getCookieName()))return void(window.ABTasty.cnilReady=!0);function t(){window.ABTasty.cnilReady=!0;const e=new c.ABTastyCookie,n=new l.ABTastySessionCookie;e.save(),n.save(),document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchmove",t,!0),window.removeEventListener("scroll",t,!0)}if(d.getAccountSettings().waitForCnilAction)return document.addEventListener("mousedown",t,!0),document.addEventListener("touchmove",t,!0),void window.addEventListener("scroll",t,!0);const e=setInterval(()=>{if(p())return void clearInterval(e);const n=d.getAccountSettings().waitForCnilCookie;"object"==typeof n?o.default.get(n.name)===n.value&&t():"boolean"==typeof n&&!0===n&&document.cookie.length>0&&t()},200)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let a={};e.registerTimeout=function(t,e){a[t]=e},e.cleanTimeouts=function(){Object.keys(a).forEach(t=>clearTimeout(a[t])),a={}},e.cleanSpecificTimeout=function(t){clearTimeout(a[t])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(30),o=n(2),r=n(22),i={TIMEOUT:3e3,ROUTE:"//dcinfos-cache.abtasty.com/v1/geoip"};function s(){sessionStorage.setItem("ABTastyGeoloc","")}function c(){try{return JSON.parse(sessionStorage.getItem("ABTastyGeoloc"))}catch(t){return void o.captureException(new Error(`Error parsing geoloc: ${t}`))}}e.fetchGeoloc=function(){if(null!=c())return;window.performance&&window.performance.mark&&window.performance.mark("geolocStart"),a.post(i.ROUTE,{weather:!0}).then(t=>t.json()).then(t=>{sessionStorage.setItem("ABTastyGeoloc",JSON.stringify(t)),window.performance&&window.performance.mark&&(window.performance.mark("geolocEnd"),window.performance.measure("geolocTiming","geolocStart","geolocEnd"),window.ABTasty.latency.geolocTiming=window.performance.getEntriesByName("geolocTiming")[0].duration)}).catch(t=>{s(),o.captureException(new Error(`Error while fetching geoloc data: ${t}`))});const t=setTimeout(()=>{null==c()&&s()},i.TIMEOUT);r.registerTimeout("geolocFetchLoop",t)},e.getGeoloc=c,e.getUserIp=function(){const t=c();return t&&t.ip_address}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(8));e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.selector,n=t.value,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];var s=(0,r.qsa)(e);if(!s.length)return[];var c=[].concat(i(s)).map((function(t){var e=a.filter((function(e){return e.target===t}))[0]||(0,o.createAppliedModification)(),s=t.cloneNode(!0),c=(0,r.getDocument)().createElement("div");c.innerHTML=n;var l=[].concat(i(c.childNodes));return l.forEach((function(t){return(0,r.addChildNode)(s,t)})),(0,r.isEqualNode)(e.savedState,s)?e.elements.children.forEach((function(e){return(0,r.addChildNode)(t,e)})):(e.rollbacks=l.map((function(e){return(0,r.addChildNode)(t,e)})),e.target=t,e.elements.children=l,e.savedState=t.cloneNode(!0)),e}));return c};var o=n(5),r=n(4);function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(117),o=n(119),r=n(120),i=n(121),s=n(122),c=n(123),l=n(124),d=n(125),u=n(12),p=n(6),m=n(45),f=n(16),g=n(9),y=n(14),h=n(126),b=n(28);const v={elementsMap:new Map,sessionEventNumber:void 0,mouse:{clientX:void 0,clientY:void 0}},_={[p.HIT_TYPES.campaign]:o.campaignHit,[p.HIT_TYPES.event]:i.eventHit,[p.HIT_TYPES.item]:c.itemHit,[p.HIT_TYPES.pageview]:a.pageviewHit,[p.HIT_TYPES.segment]:r.segmentHit,[p.HIT_TYPES.transaction]:s.transactionHit,[p.HIT_TYPES.visitorevent]:l.visitorEventHit,[p.HIT_TYPES.performance]:d.performanceHit,[p.HIT_TYPES.nps]:void 0,[p.HIT_TYPES.datalayer]:void 0};let w=[];function S(t){O(t),A(p.HIT_TYPES.visitorevent,{et:m.VISITOR_EVENT_TYPES.click},t)}function T(){const t=new f.ABTastySessionCookie;t.incrementSen(),v.sessionEventNumber=t.getSen()}function A(t,e={},n){T(),_[t.toUpperCase()](Object.assign(Object.assign({},e),{sen:v.sessionEventNumber,qt:Date.now()}),Object.assign({},v),n)}function O(t){v.mouse=Object.assign(Object.assign({},v.mouse),{clientX:t.clientX,clientY:t.clientY})}function C([t,e]){document.removeEventListener(t,e)}function x([t,e]){document.addEventListener(t,e,!0)}function E(t,e,n){const a=new g.ABTastyCookie;if(t&&void 0!==n?Object.keys(a.getCampaigns()).length<=0:a.hasSeenCampaign(n))return;const o={name:t,value:0,time:Date.now()};(new y.ABTastyLocalStorage).addActionTracking(o);const r=a.getCampaign(n),i=r?r.variationID:null;A(p.HIT_TYPES.event,null!=n&&null!=r&&null!=i?{ec:"Action Tracking",ea:t,caid:n.toString(),vaid:i.toString()}:{ec:"Action Tracking",ea:t})}function P(){const t=100*(document.body.scrollTop||document.documentElement.scrollTop)/(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight);return Math.round(t)}e.incrementSessionEventNumber=T,e.dispatchHit=A,e.aggregateActionTracking=E,e.getCurrentScrollPercent=P,e.listenToEvents=function(){w.forEach(C),w=[["click",S]],w.forEach(x)},e.setGlobals=()=>{window.abtasty.send=A,window.ABTastyClickTracking=E,window.ABTastyEvent=E,h.init(),function(){const t=b.isIos()?"pagehide":"beforeunload";window.addEventListener(t,()=>(u.dispatchBatch(!0),null))}()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(1);e.appendScript=function(t,e){if(!t)return void a.error('appendScript called with missing "src" parameter');const n=document.getElementsByTagName("head")[0],o=document.createElement("script");return e&&(o.onload=e),o.setAttribute("type","text/javascript"),o.setAttribute("src",t),n.appendChild(o),o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(7);e.invertIfNotInclude=function(t,e){return t?e:!e},e.jqueryToCssSelector=function(t){let e,n=t;return a.isNil(t)&&t.indexOf(":eq")>-1&&(n=t.replace(/html:eq\([0-9]+\)/g,"html"),n.match(/:eq\([0-9]+\)/g).forEach(t=>{e=Number(t.replace(":eq(","").replace(")",""))+1,n=n.replace(t,`:nth-of-type(${e})`)})),n},e.ipToInt=function(t){if(void 0===t)return;const e=t.split(".");return 256*(256*(256*+e[0]+ +e[1])+ +e[2])+ +e[3]},e.matchITPCondition=function(){return new RegExp("^(?=.*?\\b(safari)\\b)(?:(?!chrome|crios).)*$","gi").test(navigator.userAgent)},e.isIos=function(){return new RegExp("iPad|iPhone","i").test(navigator.userAgent)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(30),o=n(3),r=n(9),i=n(2);function s(){let t=void 0;try{t=JSON.parse(sessionStorage.getItem("DCInfos"))}catch(t){i.captureException(new Error(`Error parsing dcinfos: ${t}`))}return t}e.fetchDcInfos=function(){const t=s();if(null!=t)return void(window.ABTasty.DCInfos=t);const e=(new r.ABTastyCookie).getVisitorId(),n=`https://dcinfos.abtasty.com/geolocAndWeather.php?chID=${o.getAccountIdentifier()}&vID=${e}&dmp=true`;a.get(n).then(t=>t.text()).then(t=>{let e;e=t.startsWith("(")?t.substring(1,t.length-1):t,sessionStorage.setItem("DCInfos",e),window.ABTasty.DCInfos=JSON.parse(e)}).catch(t=>{sessionStorage.setItem("DCInfos",""),i.captureException(new Error(`Error fetching dcinfos: ${t}`))}),setTimeout(()=>{null==sessionStorage.getItem("DCInfos")&&sessionStorage.setItem("DCInfos","")},3e3)},e.getDcInfos=s,e.getAutoTraffic=function(){return s().traffic}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a={method:"GET",cache:"no-cache"};function o(t,e={}){return window.fetch?fetch(t,Object.assign(Object.assign({},a),e)):function(t,e={}){const n=Object.assign(Object.assign({},a),e),o=new XMLHttpRequest;switch(o.open(n.method,t,!0),o.setRequestHeader("Content-type","text/plain"),n.method){case"GET":o.send();break;default:o.send(JSON.stringify(n.body))}return Promise.resolve(o)}(t,e)}e.get=function(t,e={}){return o(t,Object.assign({mode:"cors",headers:{Origin:document.location.origin}},e))},e.post=function(t,e,n={}){return o(t,Object.assign({mode:"cors",method:"POST",headers:{Origin:document.location.origin},body:JSON.stringify(e)},n))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domReady=function(t=null){const{readyState:e}=document,n="interactive"===e||"complete"===e;if(null==t)return n;n?t():document.addEventListener("DOMContentLoaded",t)}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=n(41),r=n(20),i=n(1),s=a(n(10)),c=n(9),l=n(16),d=n(14),u=n(23),p=n(18),m=n(17);e.execCustomScript=function(t,e,n){if(void 0===t)return!1;try{const a=o.getAppropriatejQuery(),i={doWhen:r.doWhen,jsCookie:s,ABTastyCookie:c.ABTastyCookie,ABTastySessionCookie:l.ABTastySessionCookie,ABTastyLocalStorage:d.ABTastyLocalStorage,getGeoloc:u.getGeoloc,getParsedUserAgent:p.getParsedUserAgent,campaignId:e,variationId:n,campaign:e?m.Campaign.instanciate(e):void 0};let f,g=t;return g=g.replace(/\$\.doWhen/g,"HELPERS.doWhen"),f=void 0===a?new Function("HELPERS",g)(i):new Function("$","jQuery","HELPERS",g)(a,a,i),f}catch(t){const a=void 0!==e?void 0!==n?`Campaign ${e} | Variation ${n}`:`Campaign ${e}`:"Global Script";return i.warning(`${a} - Error during custom code execution (or code targeting)`,t),!1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.default=function(t,e){if(!t.selector||!t.value)return[];var n='<style type="text/css">'+r(t.selector,t.value)+"</style>";return(0,o.default)(a({},t,{selector:"head",value:n}),e)};var o=function(t){return t&&t.__esModule?t:{default:t}}(n(25));var r=function(t,e){return t+" {"+Object.keys(e).reduce((function(t,n){return""+t+n+":"+e[n]+";"}),"")+"}"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(8));e.default=function(t){var e=t.selector,n=t.value;if(!e)return[];var i=(0,r.qsa)(e);return i.length?[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}(i)).map((function(t){var e=(0,o.createAppliedModification)();return n.forEach((function(n){var a=n.action,o=n.attributeName,i=n.attributeValue;"string"==typeof o&&(null!=t.getAttribute(o)&&t.getAttribute(o)===i||e.rollbacks.push((0,r.setAttribute)(t,o,i,a)))})),e})):[]};var o=n(5),r=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(114),o=n(13),r=n(3),i=n(16),s=/([0-9]+)\.([0-9]+)\.?([0-9]+)?/,c={testID:null,variationID:null};e.setRedirectedFrom=(t,e)=>{c.testID=t,c.variationID=e},e.getRedirectedFrom=()=>c,e.wasRedirectedBy=t=>{const{testID:n}=e.getRedirectedFrom();return n&&n===t},e.hasBeenRedirected=()=>{if(e.getRedirectedFrom().testID)return!0;const t=new i.ABTastySessionCookie,n=o.getUrlParameter("mrasn")||t.getMrasn();if(s.test(n)){const a=n.match(s).slice(1,4).map(t=>Number(t));return!(a[2]&&Date.now()-a[2]>=1e4)&&(e.setRedirectedFrom(a[0],a[1]),window.ABTasty.redirectedFrom=Object.assign({},e.getRedirectedFrom()),t.setMrasn(""),!0)}return!1},e.isDoingRedirection=()=>!!window.ABTasty.pendingRedirection;e.applyRedirections=(t,n,s)=>{const{ATInternetReferrer:c,transferParameters:l,isRegex:d,target:u,pattern:p}=t[0],m=new RegExp("mrasn");if(m.test(document.referrer)||m.test(u)||e.isDoingRedirection()||e.hasBeenRedirected())return;a.hidePage(1e3);let f=u;if(d&&(f=((t,e,n)=>{let a=t;const o=new RegExp(n,"gi");e.includes("?")&&document.location.href.includes("?")&&(a=e.replace("?","&")),a=document.location.href.replace(o,a);const r=a.substr(0,a.indexOf("#"));return a.includes("?")||""!==r&&!r.includes("&")||(a=a.replace("&","?")),a})(f,u,p)),f=o.addAnalyticsVarsToRedirUrl(f),1===l&&(f=o.transferVarsToRedirUrl(f,document.location.href)),r.getAccountData().accountSettings.hashMrasnAllowed)f=o.addUrlParameter("mrasn",`${n}.${s}`,f);else{const t=new i.ABTastySessionCookie;t.setMrasn(`${n}.${s}.${Date.now()}`),t.save()}if(1===c&&document.referrer){const t=new URL(document.referrer).hostname;f=o.addUrlParameter("xtref",t,f)}window.ABTasty.pendingRedirection=!0,/MSIE/.test(navigator.userAgent)&&(f=f.replace("&","&#38")),document.location.replace(f),a.hidePage(1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(3),o=n(1);function r(){const{storageMode:t}=a.getAccountSettings();return t===e.STORAGE_MODE_LOCALSTORAGE}function i(){return a.getAccountSettings().storageMode===e.STORAGE_MODE_COOKIES}e.STORAGE_MODE_LOCALSTORAGE="local",e.STORAGE_MODE_COOKIES="cookies",e.checkStorageAviability=function(){const t=(r()&&null!=localStorage&&null!=localStorage.setItem&&null!=localStorage.getItem||i()&&navigator.cookieEnabled)&&null!=sessionStorage&&null!=sessionStorage.setItem&&null!=sessionStorage.getItem;return t||o.warning("AB Tasty script encountered an error: LocalStorage, SessionStorage & Cache option aren't allowed on this browser. Execution has stopped."),t},e.isLocalStorageMode=r,e.isCookieStorageMode=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__="__missing__"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.prop=a.curry((t,e)=>e[t])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.path=a.curry((t,e)=>t.reduce((t,e)=>t?t[e]:void 0,e))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(90),o=n(31),r=n(1),i=n(32);let s;{const t=n(42);s=t.start}const c=["editStyleCSS","sort","changeLink","addLink","editAttributes","addCSS"],l=t=>t.filter(({type:t,value:e})=>a.MODIFICATION_ENGINE_COMPLIANT.includes(t)&&null!=e).map(t=>{const e=t;return c.includes(t.type)&&(e.value=(t=>{try{return JSON.parse(t)}catch(e){return t}})(t.value)),e});e.applyCustomScript=(t,n=null,a=null,r=null)=>{const s=null!=n&&""!==n;null!=t&&(s&&document.querySelectorAll(n).length>0?i.execCustomScript(t,a,r):s?setTimeout(()=>e.applyCustomScript(t,n,a,r),50):o.domReady(()=>i.execCustomScript(t,a,r)))},e.applyModifications=(t,n=null,o=null)=>{const i=l(t);i.length>0&&s&&s(i);const c=(t=>t.filter(({type:t,value:e})=>-1===a.MODIFICATION_ENGINE_COMPLIANT.indexOf(t)))(t);c.length>0&&c.forEach(t=>{const{type:a}=t;"customScriptNew"===a?e.applyCustomScript(t.oldValue,t.selector,n,o):/plugin_/.test(a)&&r.warning("Ignoring old plugin modification.")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(3);e.getAppropriatejQuery=function(){const{addJquery:t,jqueryVarName:e}=a.getAccountSettings();let n;return t&&""!==e&&null!=e&&(n=e.split(".").reduce((t,e)=>t?t[e]:t,window)),n||window.jQuery||window.$}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.rerun=e.simpleRollbackAndStop=e.stop=e.start=e.rollbackAndRun=e.addModification=e.rollback=void 0;var a=function(t){return t&&t.__esModule?t:{default:t}}(n(8)),o=n(43),r=n(93),i=n(4);var s=!1,c=["checked","class","disabled","form","hidden","href","icon","id","label","max","min","maxLength","minLength","method","name","novalidate","placeholder","readonly","rel","required","selected","size","span","src","target","title","type","value"],l=function(t){if(t){var e=(0,r.getModifiedElements)();if(!t.some((function(t){var n=[],o=!0;return n=t.addedNodes.length?t.addedNodes:t.removedNodes.length?t.removedNodes:[t.target],"attributes"===t.type&&c.indexOf(t.attributeName)<0&&(o=!1),o&&(0,r.modificationIsChildOf)([].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}(n)),e)})))return}s&&(0,r.run)()};(0,o.createObserver)(l);e.rollback=function(){(0,r.clean)()};var d=e.addModification=function(t){t&&((0,r.add)(t),l())},u=(e.rollbackAndRun=function(t){(0,r.clean)(),d(t)},e.start=function(e,n){n&&(0,i.setDocument)(n),s||(s=!0,function e(){(0,i.getDocument)()?(0,o.getObserver)().observe((0,i.getDocument)(),{attributes:!0,childList:!0,characterData:!0,subtree:!0}):t.setTimeout(e,50)}()),d(e)}),p=e.stop=function(){s=!1,(0,o.getObserver)().disconnect()};e.simpleRollbackAndStop=function(){p(),(0,r.partialClean)()},e.rerun=function(){u(),(0,r.run)()}}).call(this,n(24))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(92),o=void 0;e.createObserver=function(t){o=new a(t)},e.getObserver=function(){return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(3),o=n(1);e.applyWidgets=(t,e)=>{o.info("applying widgets");const n=a.getAccountData().widgets;t.forEach(t=>{const{id:a,version:o,config:r,name:i}=t;if((t=>!!window.ABTasty.appliedPlugins&&window.ABTasty.appliedPlugins.includes(t))(a))return;const s=n[i];null!=s&&null!=s[o]&&((({id:t,version:e,config:n,name:a},o,r)=>{Function(`!function(){try{const TEST_ID=${r},PACKAGE='${a}',VERSION = '${e}',DATA=${n},PLUGIN_ID = '${t}';\n  ${o}\n  }catch(e){console.log("AB Tasty: error while executing widget for test "+${r},'${a}','${e}',e)}}();`)()})(t,s[o],e),(t=>{window.ABTasty.appliedPlugins||(window.ABTasty.appliedPlugins=[]),window.ABTasty.appliedPlugins.push(t)})(a))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VISITOR_EVENT_TYPES={click:"click",over:"over",scroll:"scroll"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TAGCOMMANDER_DMP=2,e.YSANCE_DMP=5,e.TEALIUM_DMP=48,e.KRUX_DMP=7,e.WEBORAMA_DMP=8,e.DEVICE=17,e.IP=18,e.GEOLOCALISATION=19,e.COOKIE=20,e.BROWSER_LANGUAGE=21,e.LANDING_PAGE=22,e.BROWSER=23,e.RETURNING_VISITOR=24,e.SOURCE_TYPE=25,e.PREVIOUS_PAGE=26,e.SCREEN_SIZE=27,e.JS_VARIABLE=28,e.CAMPAIGN_EXPOSITION=29,e.SOURCE=30,e.NUMBER_PAGES_VIEWED=31,e.SAME_DAY_VISIT=32,e.ADBLOCK=33,e.SESSION_NUMBER=34,e.WEATHER=35,e.DAYS_SINCE_LAST_SESSION=36,e.DAYS_SINCE_FIRST_SESSION=37,e.ECOMMERCE_VARIABLE=38,e.URL_PARAMETER=39,e.CODE=40,e.CUSTOM_VARIABLE=41,e.ACTION_TRACKING=42,e.SELECTOR=43,e.DATALAYER=44,e.LAST_PURCHASE=45,e.PURCHASE_FREQUENCY=46,e.KEYWORD=47,e.PAYMENT_METHOD=1,e.DELIVERY_METHOD=2,e.AMOUNT=3,e.COUPON=4,e.PRODUCT_SKU=5,e.PRODUCT_CATEGORY=6},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(13),o=n(7),r=n(1),i=n(2),s=n(27),c={production:{env:"prod",path:"https://app.abtasty.com/ready/previewVariation.php"},local:{env:"local",path:"https://local.app.abtasty.com/ready/previewVariation.php"},preprod:{env:"preprod",path:"https://preprod-app.abtasty.com/ready/previewVariation.php"}};function l(){return o.pipe(Object.values,t=>t.find(({env:t})=>a.getVar("env")===t))(c)}e.getPreviewMode=l,e.startPreview=function(){const t=l()||c.production;if(t)try{let e={testId:0,variationId:0};a.getVar("testId")&&a.getVar("variationId")?e={testId:Number(a.getVar("testId")),variationId:Number(a.getVar("variationId"))}:null!==sessionStorage.getItem("ABTastyPreview")&&(e=JSON.parse(sessionStorage.getItem("ABTastyPreview")));let n=t.path;n+=`?testID=${e.testId}`,n+=`&variationID=${e.variationId}`,n+=null!=a.getVar("hideBar")?"&hideBar=true":"",n+=a.getVar("disabledModifications")?`&disabledModifications=${a.getVar("disabledModifications")}`:"",s.appendScript(n)}catch(t){const e="Preview mode error";return i.captureException(new Error(e)),r.error(e,t),!1}else r.warning("The tag could not find which preview to launch")},e.detectPreview=function(){return"preview"===a.getVars(document.location.href,!0).ab_project||"undefined"!=typeof sessionStorage&&void 0!==sessionStorage.ABTastyPreview&&null!=sessionStorage.ABTastyPreview}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(13),o=n(27),r=n(1),i=n(7),s={production_v3:{key:"abtasty_editor",path:"https://teddytor.abtasty.com/editor.php?testID="},local_v3:{key:"abtasty_editor_local",path:"https://local.editorv3.abtasty.com/editor.php?testID="},preprod_v3:{key:"abtasty_editor_preprod",path:"https://preprod-editorv3.abtasty.com/editor.php?testID="}};function c(){return i.pipe(Object.values,t=>t.find(({key:t})=>a.getUrlParameter(t)))(s)}e.getEditorMode=c,e.detectEditorV3=function(){return!!c()},e.startEditor=function(){const t=c();if(!t)return void r.warning("The tag could not find which editor to launch");const e=a.getUrlParameter(t.key);e?o.appendScript(t.path+e):r.warning("The tag could not find which testID the editor should use")}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=n(2),r=a(n(1)),i=n(36),s=n(138),c=n(3),l=n(48),d=n(47),u=n(23),p=n(18);r.warning("Sentry calls disabled");const m={[s.MODES.editor]:l.startEditor,[s.MODES.preview]:d.startPreview,[s.MODES.normal]:s.startTag};function f(){const t=c.getAccountData();if(!i.checkStorageAviability())return;if(!function(){try{if(!c.getAccountSettings().accountIframeException&&window.parent!==window&&"object"==typeof window.parent.ABTasty){if(window.parent.ABTasty.accountData.accountSettings.identifier===c.getAccountSettings().identifier)return!1}}catch(t){}return!0}())return;r.info("Starting execution...",t);const e=s.getTagMode(),n=m[e];window.ABTasty=window.ABTasty||{accountData:t,getAccountSettings:()=>c.getAccountSettings(),getGeoloc:()=>u.getGeoloc(),getParsedUserAgent:()=>p.getParsedUserAgent(),pendingRedirection:!1,started:!1,latency:{},cnilReady:!1},window.abtasty=window.abtasty||{},s.isAllowed()&&n()}o.context(()=>{f()})},function(t,e,n){"use strict";var a=n(51),o=n(52);e.generateId=function(){var t=e.randomBytes(9);return e._encode(t)},e.validate=function(t){e._decode(t)},e.normalize=function(t){var n=e._decode(t),a=n.length-1;return e._encode(n.slice(0,a),n[a])},e.randomBytes=function(t){var e=[];if(t>0)for(;t-- >0;)e.push(~~(256*Math.random()));return e},e._encode=function(t,e){var n=new a.Encoder({type:"crockford",lc:!0});e=e||o(t);return n.write(t).finalize([e])},e._decode=function(t){var e=a.decode(t,{type:"crockford"}),n=e.length-1;if(o(e,0,n)!==e[n])throw new Error("invalid id");return e}},function(t,e,n){"use strict";var a=function(t,e){return e||(e={}),t.split("").forEach((function(t,n){t in e||(e[t]=n)})),e},o={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",charmap:{0:14,1:8}};o.charmap=a(o.alphabet,o.charmap);var r={alphabet:"0123456789ABCDEFGHJKMNPQRSTVWXYZ",charmap:{O:0,I:1,L:1}};function i(t){if(this.buf=[],this.shift=8,this.carry=0,t){switch(t.type){case"rfc4648":this.charmap=e.rfc4648.charmap;break;case"crockford":this.charmap=e.crockford.charmap;break;default:throw new Error("invalid type")}t.charmap&&(this.charmap=t.charmap)}}function s(t){if(this.buf="",this.shift=3,this.carry=0,t){switch(t.type){case"rfc4648":this.alphabet=e.rfc4648.alphabet;break;case"crockford":this.alphabet=e.crockford.alphabet;break;default:throw new Error("invalid type")}t.alphabet?this.alphabet=t.alphabet:t.lc&&(this.alphabet=this.alphabet.toLowerCase())}}r.charmap=a(r.alphabet,r.charmap),i.prototype.charmap=o.charmap,i.prototype.write=function(t){var e=this.charmap,n=this.buf,a=this.shift,o=this.carry;return t.toUpperCase().split("").forEach((function(t){if("="!=t){var r=255&e[t];(a-=5)>0?o|=r<<a:a<0?(n.push(o|r>>-a),o=r<<(a+=8)&255):(n.push(o|r),a=8,o=0)}})),this.shift=a,this.carry=o,this},i.prototype.finalize=function(t){return t&&this.write(t),8!==this.shift&&0!==this.carry&&(this.buf.push(this.carry),this.shift=8,this.carry=0),this.buf},s.prototype.alphabet=o.alphabet,s.prototype.write=function(t){var e,n,a,o=this.shift,r=this.carry;for(a=0;a<t.length;a++)e=r|(n=t[a])>>o,this.buf+=this.alphabet[31&e],o>5&&(e=n>>(o-=5),this.buf+=this.alphabet[31&e]),r=n<<(o=5-o),o=8-o;return this.shift=o,this.carry=r,this},s.prototype.finalize=function(t){return t&&this.write(t),3!==this.shift&&(this.buf+=this.alphabet[31&this.carry],this.shift=3,this.carry=0),this.buf},e.encode=function(t,e){return new s(e).finalize(t)},e.decode=function(t,e){return new i(e).finalize(t)},e.Decoder=i,e.Encoder=s,e.charmap=a,e.crockford=r,e.rfc4648=o},function(t,e,n){"use strict";var a=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];t.exports=function(t,e,n){var o;for(e||(e=0),null==n&&(n=t.length),o=0;o<n;o++)e=255&a[255&(e^t[o])];return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pipe=function(...t){return(e,...n)=>t.reduce((t,a)=>null!=t?a(t):a(e,...n),void 0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.self=function(t){return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.throttle=a.curry((t,e)=>{let n,a;return function(...o){const r=+new Date;n&&r<n+t?(clearTimeout(a),a=setTimeout(()=>{n=r,e.apply(this,o)},t)):(n=r,e.apply(this,o))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.pushInto=a.curry((t,e)=>t.push(e))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.call=(t,...e)=>t(...e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.ifElse=a.curry((t,e,n,a)=>t(a)?e(a):n(a))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNil=function(t){return null==t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=function(t){return null!=t&&("string"==typeof t?""===t:Array.isArray(t)?0===t.length:"object"==typeof t&&0===Object.keys(t).length)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.split=a.curry((t,e)=>e.split(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.match=a.curry((t,e)=>e.match(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.splitMap=a.curry((t,e,n)=>n.split(t).map(e).join(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.map=a.curry((t,e)=>e.map(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.reject=a.curry((t,e)=>e.reduce((e,n)=>t(n)?e:e.concat(n),[]))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromPairs=t=>t.reduce((t,e)=>{const[n,a]=e;return 2===e.length?Object.assign(t,{[n]:a}):t},{})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.last=t=>t[t.length-1]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.filter=a.curry((t,e)=>e.reduce((e,n)=>t(n)?e.concat(n):e,[]))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.groupBy=a.curry((t,e)=>{const n={};return e.forEach(e=>{const a=t(e);n[a]=n[a]||[],n[a].push(e)}),n})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.pluck=a.curry((t,e)=>e.map(e=>e[t]))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.join=a.curry((t,e)=>e.join(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.some=a.curry((t,e)=>e.some(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.filterProps=a.curry((t,e)=>t.reduce((t,n)=>{const a=t;return void 0!==e[n]&&(a[n]=e[n]),a},{}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.propEq=a.curry((t,e,n)=>n[t]===e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0),o=n(76);e.propOr=a.curry((t,e,n)=>o.pathOr(t,[e],n))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0),o=n(39),r=n(77);e.pathOr=a.curry((t,e,n)=>r.defaultTo(t,o.path(e,n)))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.defaultTo=a.curry((t,e)=>null==e||e!=e?t:e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0),o=n(38);e.propSatisfies=a.curry((t,e,n)=>t(o.prop(e,n)))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.pickBy=a.curry((t,e)=>{const n={};for(const a in e)t(e[a],a,e)&&(n[a]=e[a]);return n})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.mapObjIndexed=a.curry((t,e)=>Object.keys(e).reduce((n,a)=>(n[a]=t(e[a],a,e),n),{}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.add=a.curry((t,e)=>t+e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.substract=a.curry((t,e)=>e-t)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.square=t=>t*t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cube=t=>t*t*t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.divide=a.curry((t,e)=>e/t)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.multiply=a.curry((t,e)=>e*t)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(0);e.power=a.curry((t,e)=>e**t)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(7),o=n(29),r=n(2);function i(t){return t.reduce((t,e)=>{const n=t[t.length-1]||0;return[...t,n+e]},[])}const s=a.curry((t,e,n,a)=>{const o=a[a.length-1];let i=0;i=n?function(t){const e=c(t).variationsTraffic.find(t=>0===t.variationID);if(null==e)throw Error("Did not find original variation traffic from dc infos.");return Object.assign(Object.assign({},e),{traffic:l(e.traffic)})}(e).traffic:Math.max(...t),o+i>100&&(n&&r.captureException(new Error(`The sum of dc infos traffics got greater than 100! We've ignored it but it's weird. Last slot: ${o}. OriginalVariationTraffic: ${i}`)),i=100-o);const s=o+i;return[...a,s]});function c(t){return o.getAutoTraffic().find(e=>t===parseInt(e.testID,10))}function l(t){return+(100*parseFloat(t)).toFixed(2)}e.allocateTraffic=function(t,e,n=!1){let o=[];try{const r=function(t,e,n=!1){const a=Object.keys(t);let o=t;if(n){const t=function(t){const e=c(t).variationsTraffic.filter(t=>0!==t.variationID);if(!e.length)throw Error("Did not find userDefinedVariations traffics from dc infos.");return e.map(t=>Object.assign(Object.assign({},t),{traffic:l(t.traffic)}))}(e);o={},t.forEach(t=>{o[t.variationID]={traffic:t.traffic}})}return a.reduce((t,e)=>[...t,o[e].traffic],[])}(t,e,n);o=a.pipe(i,s(r,e,n))(r)}catch(t){return r.captureException(new Error(`Error on function allocateTraffic. ${t}`)),-1}const d=Math.floor(100*Math.random()+1),u=o.findIndex(t=>t>=d);if(-1===u)return-1;if(u===o.length-1)return 0;const p=Object.keys(t);return parseInt(p[u],10)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(1),o=n(40),r=n(44),i=n(35);e.Variation=class{constructor(t,{id:e,name:n,traffic:a,modifications:o,widgets:r,redirections:i}){this.testId=t,this.id=e,this.name=n,this.traffic=a,this.modifications=o,this.widgets=r,this.redirections=i}apply(){if(a.info("applying modifications",this.modifications),this.redirections.length>0)i.applyRedirections(this.redirections,this.testId,this.id);else{const t=`${this.testId}testModifications`;window.performance&&window.performance.mark&&window.performance.mark(`${t}Start`),o.applyModifications(this.modifications,this.testId,this.id),window.performance&&window.performance.mark&&(window.performance.mark(`${t}Stop`),window.performance.measure(t,`${t}Start`,`${t}Stop`),window.ABTasty.latency.ml=window.ABTasty.latency.ml||{},window.ABTasty.latency.ml[this.testId]=Math.round(window.performance.getEntriesByName(t,"measure")[0].duration));const e=`${this.testId}testPlugin`;window.performance&&window.performance.mark&&window.performance.mark(`${e}Start`),r.applyWidgets(this.widgets,this.testId),window.performance&&window.performance.mark&&(window.performance.mark(`${e}Stop`),window.performance.measure(e,`${e}Start`,`${e}Stop`),window.ABTasty.latency.plg=window.ABTasty.latency.plg||{},window.ABTasty.latency.plg[this.testId]=Math.round(window.performance.getEntriesByName(e,"measure")[0].duration))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MODIFICATION_ENGINE_COMPLIANT=["addCSS","addImage","addLink","addParagraph","addHtml","addHTML","advanced sort","bring2back","bring2front","changeImage","changeLink","copy","copyAfter","copyBefore","cut","cutAfter","cutBefore","editAttributes","editHtml","editHTML","editStyle","editText","editDirect","hide","hideByClass","hideContent","move","multivarCode","resize","resizeAndDrag","s&rImage","s&rText","sort","addCSS","editStyleCSS","hideByClassCSS","hideCSS"]},function(t,e){t.exports=function(){var t=function(t){return"function"==typeof t},e=Math.pow(2,53)-1,n=function(t){var n=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(n,0),e)},a=function(t){if(null!=t){if(["string","number","boolean","symbol"].indexOf(typeof t)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in t)return Symbol.iterator;if("@@iterator"in t)return"@@iterator"}},o=function(e,n){if(null!=e&&null!=n){var a=e[n];if(null==a)return;if(!t(a))throw new TypeError(a+" is not a function");return a}},r=function(t){var e=t.next();return!Boolean(e.done)&&e};return function(e){"use strict";var i,s,c,l=this,d=arguments.length>1?arguments[1]:void 0;if(void 0!==d){if(!t(d))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}var u=o(e,a(e));if(void 0!==u){s=t(l)?Object(new l):[];var p,m,f=u.call(e);if(null==f)throw new TypeError("Array.from requires an array-like or iterable object");for(c=0;;){if(!(p=r(f)))return s.length=c,s;m=p.value,s[c]=d?d.call(i,m,c):m,c++}}else{var g=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var y,h=n(g.length);for(s=t(l)?Object(new l(h)):new Array(h),c=0;c<h;)y=g[c],s[c]=d?d.call(i,y,c):y,c++;s.length=h}return s}}()},function(t,e){var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,a=window.WeakMap;if(void 0===a){var o=Object.defineProperty,r=Date.now()%1e9;(a=function(){this.name="__st"+(1e9*Math.random()>>>0)+r+++"__"}).prototype={set:function(t,e){var n=t[this.name];return n&&n[0]===t?n[1]=e:o(t,this.name,{value:[t,e],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];if(!e)return!1;var n=e[0]===t;return e[0]=e[1]=void 0,n},has:function(t){var e=t[this.name];return!!e&&e[0]===t}}}var i=new a,s=window.msSetImmediate;if(!s){var c=[],l=String(Math.random());window.addEventListener("message",(function(t){if(t.data===l){var e=c;c=[],e.forEach((function(t){t()}))}})),s=function(t){c.push(t),window.postMessage(l,"*")}}var d=!1,u=[];function p(){d=!1;var t=u;u=[],t.sort((function(t,e){return t.uid_-e.uid_}));var e=!1;t.forEach((function(t){var n=t.takeRecords();!function(t){t.nodes_.forEach((function(e){var n=i.get(e);n&&n.forEach((function(e){e.observer===t&&e.removeTransientObservers()}))}))}(t),n.length&&(t.callback_(n,t),e=!0)})),e&&p()}function m(t,e){for(var n=t;n;n=n.parentNode){var a=i.get(n);if(a)for(var o=0;o<a.length;o++){var r=a[o],s=r.options;if(n===t||s.subtree){var c=e(s);c&&r.enqueue(c)}}}}var f,g,y=0;function h(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++y}function b(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function v(t,e){return f=new b(t,e)}function _(t){return g||((g=function(t){var e=new b(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}(f)).oldValue=t,g)}function w(t,e){return t===e?t:g&&function(t){return t===g||t===f}(t)?g:null}function S(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}h.prototype={observe:function(t,e){if(t=function(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n,a=i.get(t);a||i.set(t,a=[]);for(var o=0;o<a.length;o++)if(a[o].observer===this){(n=a[o]).removeListeners(),n.options=e;break}n||(n=new S(this,t,e),a.push(n),this.nodes_.push(t)),n.addListeners()},disconnect:function(){this.nodes_.forEach((function(t){for(var e=i.get(t),n=0;n<e.length;n++){var a=e[n];if(a.observer===this){a.removeListeners(),e.splice(n,1);break}}}),this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},S.prototype={enqueue:function(t){var e=this.observer.records_,n=e.length;if(e.length>0){var a=w(e[n-1],t);if(a)return void(e[n-1]=a)}else!function(t){u.push(t),d||(d=!0,s(p))}(this.observer);e[n]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=i.get(t);e||i.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach((function(t){this.removeListeners_(t);for(var e=i.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}}),this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,a=t.target;(r=new v("attributes",a)).attributeName=e,r.attributeNamespace=n;var o=null;"undefined"!=typeof MutationEvent&&t.attrChange===MutationEvent.ADDITION||(o=t.prevValue),m(a,(function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(e)||-1!==t.attributeFilter.indexOf(n)))return t.attributeOldValue?_(o):r}));break;case"DOMCharacterDataModified":var r=v("characterData",a=t.target);o=t.prevValue;m(a,(function(t){if(t.characterData)return t.characterDataOldValue?_(o):r}));break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":a=t.relatedNode;var i,s,c=t.target;"DOMNodeInserted"===t.type?(i=[c],s=[]):(i=[],s=[c]);var l=c.previousSibling,d=c.nextSibling;(r=v("childList",a)).addedNodes=i,r.removedNodes=s,r.previousSibling=l,r.nextSibling=d,m(a,(function(t){if(t.childList)return r}))}f=g=void 0}},n||(n=h),t.exports=n},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.modificationIsChildOf=e.getModifiedElements=e.run=e.startLoop=e.clean=e.partialClean=e.rollback=e.add=void 0;var a=function(t){return t&&t.__esModule?t:{default:t}}(n(8)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},r=n(4),i=n(43),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(94));function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}var l=[],d=!1,u={applied:[],operation:null},p=(e.add=function(t){var e;Array.isArray(t)&&t.length?(e=l).push.apply(e,c(t.map((function(t){return o({},u,{operation:t})})))):l.push(o({},u,{operation:t}))},e.rollback=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];l.slice().reverse().forEach((function(e){e.applied&&e.applied.forEach((function(e){e.rollbacks.forEach((function(e){null!=e&&e(t)}))}))}))}),m=e.partialClean=function(){p(),d=!1},f=(e.clean=function(){m(),l.length=0},e.startLoop=function(){d=!1,p(!1),g()}),g=function(){l=l.map((function(t){var e=t.applied,n=t.operation,a=n.type;return s[a]&&"function"!=typeof value?{operation:n,applied:s[a](n,e)}:t})),(0,i.getObserver)().takeRecords()},y=(e.run=function(){d||(d=!0,t.requestAnimationFrame(f))},function t(e,n){return e&&"BODY"!==e.tagName?e===n||t(e.parentNode,n):e===n});e.getModifiedElements=function(){return l.map((function(t){return(0,r.qsa)(t.operation.selector)}))},e.modificationIsChildOf=function(t,e){return e.reduce((function(t,e){return e?(t.push.apply(t,c(e)),t):t}),[]).some((function(e){return!!e&&t.some((function(t){return y(e,t)||y(t,e)}))}))}}).call(this,n(24))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(33);Object.defineProperty(e,"editStyleCSS",{enumerable:!0,get:function(){return O(a).default}});var o=n(95);Object.defineProperty(e,"editText",{enumerable:!0,get:function(){return O(o).default}}),Object.defineProperty(e,"editDirect",{enumerable:!0,get:function(){return O(o).default}});var r=n(96);Object.defineProperty(e,"hide",{enumerable:!0,get:function(){return O(r).default}}),Object.defineProperty(e,"hideCSS",{enumerable:!0,get:function(){return O(r).default}}),Object.defineProperty(e,"hideByClassCSS",{enumerable:!0,get:function(){return O(r).default}});var i=n(97);Object.defineProperty(e,"hideContent",{enumerable:!0,get:function(){return O(i).default}});var s=n(98);Object.defineProperty(e,"editHtml",{enumerable:!0,get:function(){return O(s).default}}),Object.defineProperty(e,"editHTML",{enumerable:!0,get:function(){return O(s).default}});var c=n(25);Object.defineProperty(e,"addHtml",{enumerable:!0,get:function(){return O(c).default}}),Object.defineProperty(e,"addHTML",{enumerable:!0,get:function(){return O(c).default}});var l=n(99);Object.defineProperty(e,"sort",{enumerable:!0,get:function(){return O(l).default}});var d=n(100);Object.defineProperty(e,"copy",{enumerable:!0,get:function(){return O(d).default}});var u=n(101);Object.defineProperty(e,"copyAfter",{enumerable:!0,get:function(){return O(u).default}});var p=n(102);Object.defineProperty(e,"copyBefore",{enumerable:!0,get:function(){return O(p).default}});var m=n(103);Object.defineProperty(e,"addImage",{enumerable:!0,get:function(){return O(m).default}});var f=n(104);Object.defineProperty(e,"cut",{enumerable:!0,get:function(){return O(f).default}});var g=n(105);Object.defineProperty(e,"cutAfter",{enumerable:!0,get:function(){return O(g).default}}),Object.defineProperty(e,"advancedSort",{enumerable:!0,get:function(){return O(g).default}});var y=n(106);Object.defineProperty(e,"cutBefore",{enumerable:!0,get:function(){return O(y).default}});var h=n(107);Object.defineProperty(e,"addParagraph",{enumerable:!0,get:function(){return O(h).default}});var b=n(34);Object.defineProperty(e,"editAttributes",{enumerable:!0,get:function(){return O(b).default}});var v=n(108);Object.defineProperty(e,"changeImage",{enumerable:!0,get:function(){return O(v).default}});var _=n(109);Object.defineProperty(e,"changeLink",{enumerable:!0,get:function(){return O(_).default}});var w=n(110);Object.defineProperty(e,"addLink",{enumerable:!0,get:function(){return O(w).default}});var S=n(111);Object.defineProperty(e,"bring2back",{enumerable:!0,get:function(){return O(S).default}});var T=n(112);Object.defineProperty(e,"bring2front",{enumerable:!0,get:function(){return O(T).default}});var A=n(113);function O(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"addCSS",{enumerable:!0,get:function(){return O(A).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(8));e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.selector,n=t.value,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];var s=(0,r.qsa)(e);if(!s.length)return[];var c=(0,r.getDocument)().createElement("span"),l=[].concat(i(s)).map((function(t){var e=a.filter((function(e){return e.target===t}))[0]||(0,o.createAppliedModification)(),s=[].concat(i(t.childNodes));e.target?(e.rollbacks=[],s.forEach((function(t){if(t.nodeType===Node.TEXT_NODE||t.style&&"none"!==t.style.display){var n=(0,r.removeNode)(t);n&&e.rollbacks.push(n)}})),e.elements.children.forEach((function(n){e.rollbacks.push((0,r.addChildNode)(t,n))}))):(c.innerHTML="<span>"+n+"</span>",[].concat(i(c.childNodes)).forEach((function(n){e.target=t,e.elements.children=[],e.elements.children.push(n),s.forEach((function(t){if(t.nodeType===Node.TEXT_NODE||t.style&&"none"!==t.style.display){var n=(0,r.removeNode)(t);n&&e.rollbacks.push(n)}})),e.rollbacks.push((0,r.addChildNode)(t,n))})));return e}));return l};var o=n(5),r=n(4);function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.selector;return(0,a.default)({selector:e,value:{display:"none !important"}})};var a=function(t){return t&&t.__esModule?t:{default:t}}(n(33))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.selector;return(0,a.default)({selector:e+" *",value:{visibility:"hidden"}})};var a=function(t){return t&&t.__esModule?t:{default:t}}(n(33))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(8));e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.selector,n=t.value,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];var s=(0,r.qsa)(e);if(!s.length)return[];var c=[].concat(i(s)).map((function(t){var e=a.filter((function(e){return e.target===t}))[0]||(0,o.createAppliedModification)(),s=t.parentNode.cloneNode(!0),c=[].concat(i(t.parentNode.childNodes)).indexOf(t),l=s.childNodes[c],d=(0,r.getDocument)().createElement("div");d.innerHTML=n;var u=[].concat(i(d.childNodes));return u.forEach((function(t){return(0,r.addSiblingNode)(l,t)})),(0,r.removeNode)(l),(0,r.isEqualNode)(e.savedState,s)?(e.elements.children.forEach((function(e){return(0,r.addSiblingNode)(t,e)})),(0,r.removeNode)(t)):(e.rollbacks=[].concat(i(u.map((function(e){return(0,r.addSiblingNode)(t,e)}))),[(0,r.removeNode)(t)]),e.target=t,e.elements.children=u,e.savedState=t.cloneNode(!0)),e}));return c};var o=n(5),r=n(4);function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(8));e.default=function(t){var e=t.selector,n=t.value;if(!e)return[];var a=(0,r.qsa)(e);return a.length?[].concat(i(a)).map((function(t){var e=(0,o.createAppliedModification)(),a=[].concat(i(t.children)).filter((function(t){return"SCRIPT"!==t.tagName})),s=[].concat(i(t.children)),c=s.length;return n.length!==a.length||n.filter((function(t){return t>c-1})).length>0||s.some((function(t){return(0,r.getData)(t,"abTastySorted")}))?e:(s.forEach((function(e){t.removeChild(e)})),n.forEach((function(e){t.appendChild(s[e]),(0,r.setData)(s[e],"abTastySorted",1)})),e.rollbacks.push((function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!t&&s.some((function(t){return(0,r.getData)(t,"abTastySorted")}))||s.forEach((function(t){t.removeAttribute("data-ab-tasty-sorted");var e=t.parentNode;e&&(e.removeChild(t),e.appendChild(t))}))})),e)})):[]};var o=n(5),r=n(4);function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.selector,n=t.value,r=(0,o.qsa)(e),i=(0,o.qsa)(n);if(!r.length||!i.length)return[];var s=r[0],c=i[0],l=s.cloneNode(!0);l.id="";var d=(0,a.createAppliedModification)();return d.rollbacks.push((0,o.addChildNode)(c,l)),[d]};var a=n(5),o=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.selector,n=t.value,r=(0,o.qsa)(e),i=(0,o.qsa)(n);if(!r.length||!i.length)return[];var s=r[0],c=i[0],l=s.cloneNode(!0);l.id="";var d=(0,a.createAppliedModification)();return d.rollbacks.push((0,o.addSiblingNode)(c,l)),[d]};var a=n(5),o=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.selector,n=t.value,r=(0,o.qsa)(e),i=(0,o.qsa)(n);if(!r.length||!i.length)return[];var s=r[0],c=i[0],l=s.cloneNode(!0);l.id="";var d=(0,a.createAppliedModification)();return d.rollbacks.push((0,o.addSiblingNode)(c,l,!1)),[d]};var a=n(5),o=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return[];var n="<img src="+t.value+" />";return(0,o.default)(a({},t,{value:n}),e)};var o=function(t){return t&&t.__esModule?t:{default:t}}(n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.selector,n=t.value,r=(0,o.qsa)(e),i=(0,o.qsa)(n);if(!r.length||!i.length)return[];var s=r[0],c=i[0];s.cloneNode(!0).id="";var l=(0,a.createAppliedModification)();return l.rollbacks.push((0,o.moveChildNode)(s,c)),[l]};var a=n(5),o=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.selector,n=t.value,r=(0,o.qsa)(e),i=(0,o.qsa)(n);if(!r.length||!i.length)return[];var s=r[0],c=i[0];s.cloneNode(!0).id="";var l=(0,a.createAppliedModification)();return l.rollbacks.push((0,o.moveSiblingNode)(s,c)),[l]};var a=n(5),o=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.selector,n=t.value,r=(0,o.qsa)(e),i=(0,o.qsa)(n);if(!r.length||!i.length)return[];var s=r[0],c=i[0],l=s.cloneNode(!0);l.id="";var d=(0,a.createAppliedModification)();return d.rollbacks.push((0,o.moveSiblingNode)(s,c,!1)),[d]};var a=n(5),o=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return[];var n="<p>"+t.value+"</p>";return(0,o.default)(a({},t,{value:n}),e)};var o=function(t){return t&&t.__esModule?t:{default:t}}(n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.selector,n=t.value;return e&&n?(0,a.default)({selector:e,value:[{attributeName:"src",attributeValue:n}]}):[]};var a=function(t){return t&&t.__esModule?t:{default:t}}(n(34))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.selector,n=t.value,o=n.url,r=n.target;return(0,a.default)({selector:e,value:[{attributeName:"href",attributeValue:o},{attributeName:"target",attributeValue:r}]})};var a=function(t){return t&&t.__esModule?t:{default:t}}(n(34))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(8));e.default=function(t){var e=t.selector,n=t.value,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];var c=(0,r.qsa)(e);if(!c.length)return[];var l=[].concat(i(c)).map((function(t){var e=a.filter((function(e){return e.target===t}))[0]||(0,o.createAppliedModification)(),c=t.parentNode.cloneNode(!0),l=[].concat(i(t.parentNode.childNodes)).indexOf(t),d=c.childNodes[l],u=s(n);return(0,r.addSiblingNode)(d,u),(0,r.moveChildNode)(d,u),(0,r.isEqualNode)(e.savedState,c)?((0,r.addSiblingNode)(t,e.elements.link),(0,r.moveChildNode)(t,e.elements.link)):(u=s(n),e.rollbacks=[(0,r.addSiblingNode)(t,u),(0,r.moveChildNode)(t,u)],e.target=t,e.elements.link=u,e.savedState=t.parentNode.cloneNode(!0)),e}));return l};var o=n(5),r=n(4);function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}var s=function(t){var e=(0,r.getDocument)().createElement("a");return e.href=t.url,e.target=t.target||"_self",(0,r.setData)(e,"abTastyLink",1),e}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(8));e.default=function(e){var n=e.selector;if(!n)return[];var i=(0,r.qsa)(n);return i.length?[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}(i)).map((function(e){var n=(0,o.createAppliedModification)(),a=e,i=parseInt(t.getComputedStyle(e).zIndex,10),s=isNaN(i)?-1:i-1;return n.rollbacks.push((0,r.setNodeStyle)(a,"zIndex",s)),t.getComputedStyle(a).position.match(/absolute|relative|fixed/)||n.rollbacks.push((0,r.setNodeStyle)(e,"position","relative")),n})):[]};var o=n(5),r=n(4)}).call(this,n(24))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(8));e.default=function(e){var n=e.selector;if(!n)return[];var i=(0,r.qsa)(n);return i.length?[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}(i)).map((function(e){var n=(0,o.createAppliedModification)(),a=e,i=parseInt(t.getComputedStyle(e).zIndex,10),s=isNaN(i)?9999999:i+1;return n.rollbacks.push((0,r.setNodeStyle)(a,"zIndex",s)),t.getComputedStyle(a).position.match(/absolute|relative|fixed/)||n.rollbacks.push((0,r.setNodeStyle)(e,"position","relative")),n})):[]};var o=n(5),r=n(4)}).call(this,n(24))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.default=function(t,e){var n='<style type="text/css">'+t.value+"</style>";return(0,o.default)(a({},t,{selector:"head",value:n}),e)};var o=function(t){return t&&t.__esModule?t:{default:t}}(n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hidePage=(t=2e3)=>{const e=document.createElement("style");e.type="text/css";const n=".ABTastyHidden { display: none !important }";e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),document.getElementsByTagName("head")[0].appendChild(e),document.getElementsByTagName("html")[0].setAttribute("class","ABTastyHidden"),setTimeout(()=>{const t=document.getElementsByTagName("html")[0];t.className=t.className.replace("ABTastyHidden","")},t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(1),o={};e.applyAnalytics=async(t,e)=>{a.info("applying analytics"),t.forEach(({name:t,wave:n,tracker:r,implementation:i,functionName:s})=>{const c=o[t];c?c(e,n,r,i,s):a.warning("Analytics tool is not supported by AB Tasty: ",t,`(for campaign ${e.campaignId})`)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(19),o=n(26),r=n(18);let i=!1,s=[],c={mousedown:[],click:[],submit:[]};const l=(t,e,n=!1)=>(c[e]||[]).filter(e=>!(n&&!e.clicked)&&(t.matches(e.selector)||t.closest(e.selector)));e.stopListening=()=>{s.forEach(({event:t,listener:e})=>{document.removeEventListener(t,e,!0)}),document.removeEventListener(a.RESET_TRACKING_EVENT,d),c={mousedown:[],click:[],submit:[]},s=[],i=!1};const d=()=>{e.stopListening()},u=t=>{const e=r.getParsedUserAgent(),n=e&&e.type?e.type.toLowerCase():null,c=({target:e})=>p(e,t);"submit"!==t&&n&&"desktop"!==n&&"ontouchstart"in document.documentElement?(()=>{const t=({target:t})=>{l(t,"mousedown").forEach(t=>t.clicked=!0),l(t,"click").forEach(t=>t.clicked=!0)},e=({target:t})=>{l(t,"mousedown").forEach(t=>t.clicked=!1),l(t,"click").forEach(t=>t.clicked=!1)},n=({target:t})=>{l(t,"mousedown",!0).forEach(t=>{o.aggregateActionTracking(t.name,null,t.testId)}),l(t,"click",!0).forEach(t=>{o.aggregateActionTracking(t.name,null,t.testId)})};document.addEventListener("touchstart",t,!0),document.addEventListener("touchmove",e,!0),document.addEventListener("touchend",n,!0),s.push({event:"touchstart",listener:t}),s.push({event:"touchmove",listener:e}),s.push({event:"touchend",listener:n})})():(document.addEventListener(t,c,!0),s.push({event:t,listener:c})),i||(document.addEventListener(a.RESET_TRACKING_EVENT,d),i=!0)},p=(t,e)=>{c[e]&&c[e].forEach(({selector:e,name:n,testId:a})=>{(t.matches(e)||t.closest(e))&&o.aggregateActionTracking(n,null,a)})};e.applyActionTrackings=(t,e)=>{Object.keys(t).forEach(n=>{c[n]&&0===c[n].length&&u(n),((t,e,n)=>{e.forEach(e=>c[t].push(Object.assign(Object.assign({},e),{testId:n})))})(n,t[n],e)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(11),o=n(12),r=n(15),i=n(6);e.pageviewHit=function(t){const e=Object.assign(Object.assign({},t),{t:i.HIT_TYPES.pageview}),n=function(t){return r.checkArguments(t,{})}(e);n.length?a.hitError(i.HIT_TYPES.pageview,n,e):o.aggregateHit(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(9),o=n(16),r=n(3);e.getCommonProperties=function(){const t=new a.ABTastyCookie,e=new o.ABTastySessionCookie;return{c:t.getCampaignHistory(),cid:r.getAccountIdentifier(),vid:t.getVisitorId(),dr:encodeURIComponent(e.getReferrer()),vp:`${window.innerWidth}x${window.innerHeight}`,sr:`${screen.width}x${screen.height}`,pt:encodeURIComponent(document.title),de:encodeURIComponent(document.characterSet),sd:encodeURIComponent(`${screen.colorDepth}-bits`),ul:navigator.language||navigator.userLanguage,je:navigator.javaEnabled(),dl:encodeURIComponent(document.location.href),cst:t.getCurrentSessionTimestamp(),sn:t.getNumberOfSessions(),sen:e.getSen()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(11),o=n(12),r=n(15),i=n(6);e.campaignHit=function(t){const e=Object.assign(Object.assign({},t),{t:i.HIT_TYPES.campaign}),n=function(t){return r.checkArguments(t,{caid:{label:"Campaign ID",required:!0,types:["string"]},vaid:{label:"Variation ID",required:!0,types:["string"]}})}(e);n.length?a.hitError(i.HIT_TYPES.campaign,n,e):o.aggregateHit(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(11),o=n(12),r=n(15),i=n(14),s=n(6);e.segmentHit=function(t){const e=Object.assign(Object.assign({},t),{t:s.HIT_TYPES.segment}),n=function(t){return r.checkArguments(t,{s:{label:"Segments",required:!0,types:["object"]}})}(e);n.length?a.hitError(s.HIT_TYPES.segment,n,e):(o.aggregateHit(e),function(t){(t.s||"object"==typeof t.s)&&(new i.ABTastyLocalStorage).addSegment(Object.assign({},t.s))}(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(11),o=n(12),r=n(15),i=n(6);e.eventHit=function(t){const e=Object.assign(Object.assign({},t),{t:i.HIT_TYPES.event}),n=function(t){return r.checkArguments(t,{ec:{label:"Event Category",required:!0,types:["string"]},ea:{label:"Event Action",required:!0,types:["string"]},el:{label:"Event Label",required:!1,types:["string"]},ev:{label:"Event Value",required:!1,types:["number"]}})}(e);n.length?a.hitError(i.HIT_TYPES.event,n,e):o.aggregateHit(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(11),o=n(12),r=n(15),i=n(6),s=n(14);e.transactionHit=function(t){const e=Object.assign(Object.assign({},t),{t:i.HIT_TYPES.transaction}),n=function(t){return r.checkArguments(t,{tid:{label:"Transaction ID",required:!0,types:["string"]},ta:{label:"Transaction Affiliation",required:!0,types:["string"]},tr:{label:"Transaction Revenue",required:!1,types:["number"]},ts:{label:"Transaction Shipping",required:!1,types:["number"]},tt:{label:"Transaction Tax",required:!1,types:["number"]},tc:{label:"Transaction Currency",required:!1,types:["string"],maxLength:10}})}(e);n.length?a.hitError(i.HIT_TYPES.transaction,n,e):(o.aggregateHit(e),function(t){const e={id:t.tid||t.id,value:t.tr,shipping:t.sm,payment:t.pm,coupon:t.tcc,name:t.name,quantity:t.quantity,time:t.time||(new Date).getTime()};(new s.ABTastyLocalStorage).addTransaction(e)}(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(11),o=n(12),r=n(15),i=n(6),s=n(14);e.itemHit=function(t){const e=Object.assign(Object.assign({},t),{t:i.HIT_TYPES.item}),n=function(t){return r.checkArguments(t,{tid:{label:"Transaction ID",required:!0,types:["string"]},in:{label:"Item Name",required:!0,types:["string"]},ip:{label:"Item Price",required:!1,types:["number"]},iq:{label:"Item Quantity",required:!1,types:["number"]},ic:{label:"Item Code",required:!1,types:["string"],maxLength:500},iv:{label:"Item Category",required:!1,types:["string"],maxLength:500}})}(e);n.length?a.hitError(i.HIT_TYPES.item,n,e):(o.aggregateHit(e),function(t){const e={transactionId:t.tid,name:t.in,quantity:t.iq,revenue:t.iq&&t.ip?t.iq*t.ip:0,local_revenue:t.iq&&t.ip?t.iq*t.ip:0,sku:t.ic,category:t.iv,time:(new Date).getTime()};(new s.ABTastyLocalStorage).addItem(e)}(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(11),o=n(12),r=n(15),i=n(6),s=n(26),c=n(45),l=Object.keys(c.VISITOR_EVENT_TYPES);function d(t,e){const n={};if(t&&t!==document){const a=e.elementsMap.get(t);n.tecp=encodeURIComponent(function(t){const e=[];let n=t;for(;n.parentNode;){if(n===n.ownerDocument.documentElement)e.unshift(n.tagName);else{const t=[...n.parentElement.children].indexOf(n)+1;e.unshift(`${n.tagName}:nth-child(${t})`)}n=n.parentNode}return e.join(" > ")}(t)),t.id&&(n.teid=t.id),a&&a.enterTime&&(n.otbe=Date.now()-a.enterTime),n.tc=t.getAttribute("class")||"";const{left:o,top:r,width:i,height:s}=function(t){const e=t.getBoundingClientRect(),n=document.body,a=document.documentElement,o=window.pageYOffset||a.scrollTop||n.scrollTop,r=window.pageXOffset||a.scrollLeft||n.scrollLeft,i=a.clientTop||n.clientTop||0,s=a.clientLeft||n.clientLeft||0,c=e.top+o-i,l=e.left+r-s;return{top:Math.round(c),left:Math.round(l),width:Math.round(e.width),height:Math.round(e.height)}}(t);n.tes=`${i}x${s}`,n.tep=`${o}x${r}`,n.tcec=t.childElementCount||0,n.tet=t.tagName}return n}e.visitorEventHit=function(t,e,n){const{clientX:c,clientY:u}=e.mouse,p=void 0!==c?`${c}x${u}`:"",m=Object.assign(Object.assign(Object.assign(Object.assign({},d(n.target,e)),{esp:s.getCurrentScrollPercent(),cp:p}),t),{t:i.HIT_TYPES.visitorevent}),f=function(t){return r.checkArguments(t,{et:{label:"Event Type",required:!0,types:["string"],allowedValues:l}})}(m);f.length?a.hitError(i.HIT_TYPES.visitorevent,f,m):o.aggregateHit(m)}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(1)),r=n(11),i=n(12),s=n(15),c=n(6),l=n(7),d=n(3);function u(){if(window.performance)try{const t="complete"===document.readyState?"domComplete":"domInteractive";return window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>1?window.performance.getEntriesByType("navigation")[0][t]:window.performance.timing[t]-window.performance.timing.navigationStart}catch(t){}return 0}e.performanceHit=function(t){const e=Object.assign(Object.assign(Object.assign({},function(){if("object"==typeof window.performance)try{const t=window.performance.getEntries().find(t=>l.propSatisfies(t=>RegExp(/try.abtasty.com/).test(t),"name",t));if(t){return{dltt:Math.round(t.domainLookupEnd-t.domainLookupStart),tssl:t.secureConnectionStart?Math.round(t.connectEnd-t.secureConnectionStart):0,ttfb:Math.round(t.responseStart-t.requestStart),tdt:Math.round(t.responseEnd-t.responseStart),tti:Math.round(t.duration),tsi:Math.round(t.transferSize)}}}catch(t){o.warning("Performance Timing API data can't be retrieved.")}return{}}()),t),{drl:u(),tv:d.getAccountSettings().frameworkVersion,gca:Math.round(window.ABTasty.latency.gca)||0,uasl:Math.round(window.ABTasty.latency.userAgentTiming)||0,gsl:Math.round(window.ABTasty.latency.geolocTiming)||0,abdl:Math.round(window.ABTasty.latency.adblockTiming)||0,gct:window.ABTasty.latency.gct||{},ml:window.ABTasty.latency.ml||{},pgl:window.ABTasty.latency.pgl||{},all:window.ABTasty.latency.all||{},tgl:window.ABTasty.latency.tgl||{},t:c.HIT_TYPES.performance}),n=function(t){return s.checkArguments(t,{tv:{label:"Tag Version",required:!1,types:["string"]},dltt:{label:"Tag Domain Lookup Time",required:!1,types:["number"]},tssl:{label:"Tag Approx SSL time",required:!1,types:["number"]},ttfb:{label:"Tag Time To First Byte",required:!1,types:["number"]},tdt:{label:"Tag Download Time",required:!1,types:["number"]},tti:{label:"Total Tag Download Time",required:!1,types:["number"]},tsi:{label:"Tag Transfer Size",required:!1,types:["number"]},gca:{label:"Global Code Account",required:!1,types:["number"]},uasl:{label:"UserAgent Service Latency",required:!1,types:["number"]},gsl:{label:"Geoloc Service Latency",required:!1,types:["number"]},drl:{label:"DOMReady latency",required:!1,types:["number"]},abdl:{label:"Adblock Detection Latency",required:!1,types:["number"]},gct:{label:"Global Code Test",required:!1,types:["object"]},ml:{label:"Modifications latency",required:!1,types:["object"]},pgl:{label:"Plugin latency",required:!1,types:["object"]},all:{label:"Analytics Link latency",required:!1,types:["object"]},tgl:{label:"Targeting Latency",required:!1,types:["object"]}})}(e);n.length?r.hitError(c.HIT_TYPES.performance,n,e):i.aggregateHit(e)}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(1)),r=n(26),i=n(6),s=n(14);function c(t=window._abtasty){t.forEach(t=>{if(Array.isArray(t)&&Object.keys(t).length)switch(t[0].toString().toLowerCase()){case"transaction":!function(t){const e=t[1].toString(),n={tid:t[2],tr:parseFloat(t[3].toString().replace(",","."))||0,icn:Number(t[4])||0,ta:e};r.dispatchHit(i.HIT_TYPES.transaction,n)}(t);break;case"cv":!function(t){const e=t[1]||"",n=t[2]||"";if(!("string"==typeof e&&""!==e)||!("string"==typeof n&&""!==n||"number"==typeof n))return void o.warning("CV informations are not valid, please, check that your second and third argument are not empty strings");const a={category:"cv",action:e,value:"string"==typeof n?n.substring(0,65):n,time:Date.now()};(new s.ABTastyLocalStorage).addCustomVariable(a);const c={[e]:"string"==typeof n?n.substring(0,65):n};r.dispatchHit(i.HIT_TYPES.segment,{s:c})}(t);break;case"eco":!function(t){const e=t[1]||"",n=t[2]||"";if(!("string"==typeof e&&""!==e)||!("string"==typeof n&&""!==n||"number"==typeof n))return void o.warning("ECO informations are not valid, please, check that your second and third argument are not empty strings");const a={action:e,category:"eco",value:"string"==typeof n?n.substring(0,65):n,time:Date.now()};(new s.ABTastyLocalStorage).addCustomVariable(a);const c={ec:"eco",ea:e,el:n};r.dispatchHit(i.HIT_TYPES.event,c)}(t);break;default:const e="Wrong format to push (nothing was sent)";o.error(e,t)}else{const e="Please give at least one parameter for the/these arrays !";o.error(e,t)}}),window._abtasty=[],window._abtasty.push=function(){return c([arguments[0]]),Array.prototype.push.apply(this,arguments)}}e.init=function(){window._abtasty=window._abtasty||[],c()}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(1)),r=a(n(46)),i=n(17),s={};{const{deviceTargeting:t}=n(128);s[r.DEVICE]=t}const c=t=>!0===t;e.getAudienceTargetingTypes=function({targeting_groups:t}){return t.reduce((t,e)=>[...t,...e.targetings.map(t=>t.targeting_type)],[]).filter((t,e,n)=>n.indexOf(t)===e)},e.audienceNeedsGeoloc=function(t){return i.Campaign.getGlobalCampaignsInfos().needGeolocFetch.indexOf(t)>-1},e.audienceNeedsUserAgentParser=function(t){return i.Campaign.getGlobalCampaignsInfos().needUAParserFetch.indexOf(t)>-1},e.audienceNeedsAdblockTargeting=function(t){return i.Campaign.getGlobalCampaignsInfos().needAdBlockDetection.indexOf(t)>-1},e.checkAudience=function(t,e){const{targeting_groups:n}=t;if(null==n)return!0;const a=t.targeting_groups.map(t=>t.targetings.map(t=>{const n=s[t.targeting_type];let a=!0;return"function"==typeof n?(a=n(t,e.id),i.Campaign.updatePublicTargetingData(e.id,t,a),a):(o.warning("Cannot apply targeting",t),i.Campaign.updatePublicTargetingData(e.id,t,a),!0)}).every(c)).some(c);return o.info("Applying audience",t," for ",e,"result = ",a),a}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=n(18),r=a(n(1)),i=n(2);e.deviceTypes={1:"mobile phone",2:"tablet",3:"desktop"},e.deviceTargeting=function({conditions:t}){try{const n=o.getParsedUserAgent();if(null==n)return!1;const a=n.type;return t.every(({include:t,value:n})=>{const o=e.deviceTypes[n]===a.toLowerCase();return t?o:!o})}catch(e){const n="Targeting error (device)";return i.captureException(new Error(n)),r.error(n,t),!1}}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(1)),r=n(17),i=n(130),s=n(132),c=n(133),l=n(134),d=n(135),u=n(19),p=t=>!0===t,m={url_scope:{method:i.checkScopeUrl,group:u.TARGET_PAGES_NAME},code_scope:{method:s.checkScopeCode,group:u.TARGET_PAGES_NAME},selector_scope:{method:c.checkScopeSelector,group:u.TARGET_PAGES_NAME},cookie_scope:{method:l.checkScopeCookie,group:u.QA_MODE_NAME},ip_scope:{method:d.checkScopeIp,group:u.QA_MODE_NAME}};function f(t,e,n){const a=m[e].method,i=m[e].group,s=a(t,n.id);return o.info("Applying scope",e," for ",n,"result = ",s),r.Campaign.updatePublicTargetingData(n.id,{conditions:t,targeting_type:e},s,i),s}e.checkScope=f,e.checkPageURL=function({urlScope:t},e){return!t.length||f(t,"url_scope",e)},e.checkTargetPages=function({codeScope:t,selectorScope:e},n){return[!t.length||f(t,"code_scope",n),!e.length||f(e,"selector_scope",n)].every(p)},e.checkQaParameters=function({cookieScope:t,ipScope:e},n){return[!t.length||f(t,"cookie_scope",n),!e.length||f(e,"ip_scope",n)].every(p)}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(1)),r=n(2),i=n(13),s=n(131),c={[s.EQUALS]:"equals",[s.CONTAINS]:"contains",[s.REGEXP]:"regexp",[s.IGNORE_PARAMETERS]:"ignore_parameters"};function l({value:t,condition:e}){return i.matchWithCond(c[e],t)}e.checkScopeUrl=function(t){try{const e=t.filter(({include:t})=>!t),n=t.filter(({include:t})=>t);return!e.some(l)&&(!!n.some(l)||0===n.length)}catch(e){const n="Scope error (currentUrl)";return r.captureException(new Error(n)),o.error(n,t),!1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EQUALS=1,e.NOT_EQUALS=2,e.ALL_VALUES=3,e.CONTAINS=10,e.REGEXP=11,e.NOT_CONTAINS=13,e.GREATER_THAN=20,e.LOWER_THAN=21,e.GREATER_THAN_OR_EQUALS=22,e.LOWER_THAN_OR_EQUALS=23,e.IS_BETWEEN=24,e.CLEAR=30,e.CLOUDS=31,e.DRIZZLE=32,e.DUST=33,e.FOG=34,e.MIST=35,e.RAIN=36,e.SMOKE=37,e.SNOW=38,e.THUNDERSTORM=39,e.IGNORE_PARAMETERS=40,e.IS_DECLARED=41,e.IS_NOT_DECLARED=42,e.ID_SELECTOR=43,e.CLASS_SELECTOR=44,e.ELEMENT_SELECTOR=45},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(1)),r=n(2),i=n(32);e.checkScopeCode=function(t,e){try{return t.every(({value:t})=>!!i.execCustomScript(t,e))}catch(e){const n="Scope error (code)";return r.captureException(new Error(n)),o.error(n,t),!1}}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(1)),r=n(2),i=n(41),s=n(28);function c({value:t,include:e}){let n=!1;const a=i.getAppropriatejQuery();if(a)n=a(t).length>0;else{const e=s.jqueryToCssSelector(t);n=Boolean(document.querySelector(e))}return e?n:!n}e.checkScopeSelector=function(t){try{return t.some(c)}catch(e){const n="Scope error (selector)";return r.captureException(new Error(n)),o.error(n,t),!1}}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(10)),r=a(n(1)),i=n(2);function s({name:t,value:e,include:n}){const a=o.get(t);let r=!1;return(a||""===a)&&(r=!0,null!=e&&(r=null!==a.match(new RegExp(e,"i")))),n?r:!r}e.checkScopeCookie=function(t){try{return t.some(s)}catch(e){const n="Scope error (cookie)";return i.captureException(new Error(n)),r.error(n,t),!1}}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=n(7),r=a(n(1)),i=n(2),s=n(28),c=n(23),l=t=>({range:e,from:n,to:a})=>e?t>=Number(n)&&t<=Number(a):t===Number(n);e.checkScopeIp=function(t){try{const{exclusions:e,inclusions:n}=o.groupBy(({include:t})=>t?"inclusions":"exclusions",t),a=s.ipToInt(c.getUserIp());return(!e||!e.some(l(a)))&&(!(!n||!n.some(l(a)))||!n)}catch(e){const n="Scope error (IP)";return i.captureException(new Error(n)),r.error(n,t),!1}}},function(t,e){e.TAGCOMMANDER_DMP=2,e.YSANCE_DMP=5,e.KRUX_DMP=7,e.WEBORAMA_DMP=8,e.DEVICE=17,e.IP=18,e.GEOLOCALISATION=19,e.COOKIE=20,e.BROWSER_LANGUAGE=21,e.LANDING_PAGE=22,e.BROWSER=23,e.RETURNING_VISITOR=24,e.SOURCE_TYPE=25,e.PREVIOUS_PAGE=26,e.SCREEN_SIZE=27,e.JS_VARIABLE=28,e.CAMPAIGN_EXPOSITION=29,e.SOURCE=30,e.NUMBER_PAGES_VIEWED=31,e.SAME_DAY_VISIT=32,e.ADBLOCK=33,e.SESSION_NUMBER=34,e.WEATHER=35,e.DAYS_SINCE_LAST_SESSION=36,e.DAYS_SINCE_FIRST_SESSION=37,e.ECOMMERCE_VARIABLE=38,e.URL_PARAMETER=39,e.CODE=40,e.CUSTOM_VARIABLE=41,e.ACTION_TRACKING=42,e.SELECTOR=43,e.DATALAYER=44,e.LAST_PURCHASE=45,e.PURCHASE_FREQUENCY=46,e.KEYWORD=47,e.TEALIUM_DMP=48},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(3),o=n(2),r=n(20);e.fetchCrossDomain=async function(){return new Promise(t=>{window.updateABTCookies=function(e){clearTimeout(n),delete window.updateABTCookies,e&&e.data&&t(e.data.dc),t("")};const e=`https://dcinfos-cache.abtasty.com/recreateUserInfos?clientID=${a.getAccountIdentifier()}&callback=updateABTCookies`;r.jsonp(e);const n=setTimeout(()=>{o.captureException(new Error("Cross domain data was not successfully retrieved")),t("")},3e3)})}},function(t,e,n){"use strict";var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=a(n(10)),r=n(42),i=n(3),s=n(17),c=n(9),l=n(13),d=n(1),u=n(139),p=n(21),m=n(47),f=n(48),g=n(26),y=n(19),h=n(6),b=n(29),v=n(23),_=n(18),w=n(22),S=n(32),T=n(31),A=n(35),O=n(140);e.MODES={normal:"normal",preview:"preview",editor:"editor"};let C=!1;function x(){d.info("Main process started..."),window.ABTasty.started=!0,window.ABTasty.results={},window.ABTasty.getTestsOnPage=s.Campaign.getActiveCampaigns,window.ABTastyStartTest=s.Campaign.abTastyStartTest,function(){p.listenForCnilCompliency();const t=new c.ABTastyCookie;window.ABTasty.visitor={id:t.getVisitorId()}}(),b.fetchDcInfos(),i.usesGeolocTargeting()&&v.fetchGeoloc(),i.usesUAParserTargeting()&&_.fetchUserAgentParser(),O.usesDMPToFetch()&&O.fetchDMP();{const{start:t}=n(141);t()}g.setGlobals(),g.listenToEvents(),i.getAccountSettings().ajaxAutoReload&&u.onUrlChange(E),E();const t=setTimeout(()=>g.dispatchHit(h.HIT_TYPES.performance),5e3);w.registerTimeout("performanceLoop",t)}function E(){r.rollback(),document.dispatchEvent(new CustomEvent(y.RESET_TRACKING_EVENT)),w.cleanTimeouts(),window.ABTasty.results={},C||(C=!0,P())}function P(){const t=new c.ABTastyCookie;c.ABTastyCookie.cookieReady?(C=!1,t.pageView(),g.dispatchHit(h.HIT_TYPES.pageview,{}),A.hasBeenRedirected(),function(){const{globalCode:t,globalCodeOnDocReady:e}=i.getAccountSettings();if(""===t)return;const n="accountGlobalCode";window.performance&&window.performance.mark&&window.performance.mark(`${n}Start`);function a(){window.performance&&window.performance.mark&&(window.performance.mark(`${n}Stop`),window.performance.measure(n,`${n}Start`,`${n}Stop`),window.ABTasty.latency.gca=window.performance.getEntriesByName(n,"measure")[0].duration)}e?T.domReady(()=>{S.execCustomScript(t),a()}):(S.execCustomScript(t),a())}(),function(){const t=s.Campaign.getParentCampaignsIDs();d.info(`Starting ${t.length} campaigns: ${t}`),t.map(s.Campaign.instanciate).forEach(t=>{if(t.isContainer()){t.setStatus("master_campaign_not_checked"),t.getChildren().map(s.Campaign.instanciate).forEach(t=>{d.info("----- child campaign::",t.getType()),t.apply()})}else d.info("campaign::",t),t.apply()})}()):setTimeout(P,16)}e.getTagMode=function(){return f.getEditorMode()?e.MODES.editor:m.detectPreview()?e.MODES.preview:e.MODES.normal},e.isAllowed=function(){return f.detectEditorV3()||!window.ABTasty.started&&!function(){if(p.isObsoleteBrowser())return!0;const{abtastyeditorlock:t,abtastyoptout:e}=l.getUrlHashVars(),n=null!=t||null!=window.top.ABTASTY_S;return null!=e?(o.set("ABTastyOptout","1",{expires:388}),!0):!(!o.get("ABTastyOptout")&&!n)}()},e.startTag=function(){window.lockABTastyTag?new Promise(t=>{window.unlockABTasty=()=>{delete window.lockABTastyTag,t(!0)}}).then(x):i.noMoreQuota()?d.warning("[ABTasty quota limit reached]"):i.shouldRunAsynchronously()?setTimeout(x,0):x()},e.onStartOrReset=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(1);let o=document.location.href,r=!1;const i=[];e.onUrlChange=function(t){i.push(t),r||(r=!0,setInterval(()=>{document.location.href!==o&&(a.info("Url change detected",`${i.length} callback to apply`),o=document.location.href,i.forEach(t=>t()))},50))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchDMP=function(){},e.usesDMPToFetch=function(){return!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(27),o=n(3);e.start=function(){const{sessionRecordingRights:t}=o.getAccountSettings(),e=o.getSessionRecordingSettings();t&&e&&e.length>0&&a.appendScript("https://sr-tag.abtasty.com/abtasty.js")}}]);
//# sourceMappingURL=b1d8adfcebd23a1804894a530b6fba99.js.map