var stjude=stjude||{};
stjude.dprforms=stjude.dprforms||{};
stjude.dprforms.mailcardoption=(function(d){var b=false;
function a(){var k=d('input[name="cardChoice"]:checked').attr("id");
var h=d("#"+k).data("bulkflag");
if(h&&b==="true"){d("#mailcard-option").show();
e()
}else{if(stjude.dprforms.authorMode==="false"){d("#mailcard-option").hide()
}else{d("#mailcard-option").hide();
var j=d('input[name="cardChoice"]');
for(var g=0;
g<j.length;
g++){var i=j[g].id;
if(d("#"+i).data("bulkflag")){d("#mailcard-option").show()
}}}}}function c(){var h=d('input[name="cardChoice"]:checked').attr("id");
var g=d('input[name="mailoption"]:checked').attr("id");
if(g==="sendToDonor"){d("#tributeMailCard-insideOfCard img").attr("src",d("#"+h).data("bulkinsideimage"));
d("#tributeMailCard-envelope img").attr("src",d("#"+h).data("bulkenvelopeimage"))
}else{d("#tributeMailCard-insideOfCard img").attr("src",d("#"+h).data("insideimage"));
d("#tributeMailCard-envelope img").attr("src",d("#"+h).data("envelopeimage"))
}}function e(){var i=d('input[name="cardChoice"]:checked').attr("id");
var h=d('input[name="mailoption"]:checked').attr("id");
if(h==="sendToDonor"){var g=d("#"+i).data("mindonpercard");
d.publish("/dprforms/mindonationpercard",g);
d.publish("/dprforms/isBulkMail",true);
d("#dedication-quantity").show();
d("#dedication-signature").show();
d("#recipient-info").hide();
d("#dedication-billing-message").hide();
d("#dedication-message").hide()
}else{d("#dedication-signature").show();
d("#recipient-info").show();
d("#dedication-quantity").hide();
d("#dedication-billing-message").hide();
d("#dedication-message").show()
}}function f(){b=stjude.dprforms.dedication.getDedicationBulkcheck()
}return{init:function(){f();
d.subscribe("/dprforms/formUpdate",a);
d('input:radio[name="mailoption"]').change(function(){c();
e();
d.publish("/dprforms/formUpdate")
})
}}
})(jQuery);